(self.webpackChunkfandaqapp=self.webpackChunkfandaqapp||[]).push([[75162],{87206:Q=>{"use strict";var m={single_source_shortest_paths:function(p,d,h){var s={},l={};l[d]=0;var f,b,_,T,x,P,t=m.PriorityQueue.make();for(t.push(d,0);!t.empty();)for(_ in T=(f=t.pop()).cost,x=p[b=f.value]||{})x.hasOwnProperty(_)&&(P=T+x[_],(typeof l[_]>"u"||l[_]>P)&&(l[_]=P,t.push(_,P),s[_]=b));if(typeof h<"u"&&typeof l[h]>"u"){var F=["Could not find a path from ",d," to ",h,"."].join("");throw new Error(F)}return s},extract_shortest_path_from_predecessor_list:function(p,d){for(var h=[],s=d;s;)h.push(s),s=p[s];return h.reverse(),h},find_path:function(p,d,h){var s=m.single_source_shortest_paths(p,d,h);return m.extract_shortest_path_from_predecessor_list(s,h)},PriorityQueue:{make:function(p){var s,d=m.PriorityQueue,h={};for(s in p=p||{},d)d.hasOwnProperty(s)&&(h[s]=d[s]);return h.queue=[],h.sorter=p.sorter||d.default_sorter,h},default_sorter:function(p,d){return p.cost-d.cost},push:function(p,d){this.queue.push({value:p,cost:d}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Q.exports=m},76119:Q=>{"use strict";Q.exports=function(p){for(var d=[],h=p.length,s=0;s<h;s++){var l=p.charCodeAt(s);if(l>=55296&&l<=56319&&h>s+1){var t=p.charCodeAt(s+1);t>=56320&&t<=57343&&(l=1024*(l-55296)+t-56320+65536,s+=1)}l<128?d.push(l):l<2048?(d.push(l>>6|192),d.push(63&l|128)):l<55296||l>=57344&&l<65536?(d.push(l>>12|224),d.push(l>>6&63|128),d.push(63&l|128)):l>=65536&&l<=1114111?(d.push(l>>18|240),d.push(l>>12&63|128),d.push(l>>6&63|128),d.push(63&l|128)):d.push(239,191,189)}return new Uint8Array(d).buffer}},28251:(Q,m,p)=>{const h=p(28310),s=p(86208),l=p(26422),t=p(77772);function f(b,_,T,x,g){const P=[].slice.call(arguments,1),L=P.length,B="function"==typeof P[L-1];if(!B&&!h())throw new Error("Callback required as last argument");if(!B){if(L<1)throw new Error("Too few arguments provided");return 1===L?(T=_,_=x=void 0):2===L&&!_.getContext&&(x=T,T=_,_=void 0),new Promise(function(F,j){try{const D=s.create(T,x);F(b(D,_,x))}catch(D){j(D)}})}if(L<2)throw new Error("Too few arguments provided");2===L?(g=T,T=_,_=x=void 0):3===L&&(_.getContext&&typeof g>"u"?(g=x,x=void 0):(g=x,x=T,T=_,_=void 0));try{const F=s.create(T,x);g(null,b(F,_,x))}catch(F){g(F)}}m.rT=f.bind(null,l.render),m.hz=f.bind(null,l.renderToDataURL),m.toString=f.bind(null,function(b,_,T){return t.render(b,T)})},28310:Q=>{Q.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},65281:(Q,m,p)=>{const d=p(82562).getSymbolSize;m.getRowColCoords=function(s){if(1===s)return[];const l=Math.floor(s/7)+2,t=d(s),f=145===t?26:2*Math.ceil((t-13)/(2*l-2)),b=[t-7];for(let _=1;_<l-1;_++)b[_]=b[_-1]-f;return b.push(6),b.reverse()},m.getPositions=function(s){const l=[],t=m.getRowColCoords(s),f=t.length;for(let b=0;b<f;b++)for(let _=0;_<f;_++)0===b&&0===_||0===b&&_===f-1||b===f-1&&0===_||l.push([t[b],t[_]]);return l}},30120:(Q,m,p)=>{const d=p(71239),h=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(l){this.mode=d.ALPHANUMERIC,this.data=l}s.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){let f;for(f=0;f+2<=this.data.length;f+=2){let b=45*h.indexOf(this.data[f]);b+=h.indexOf(this.data[f+1]),t.put(b,11)}this.data.length%2&&t.put(h.indexOf(this.data[f]),6)},Q.exports=s},16509:Q=>{function m(){this.buffer=[],this.length=0}m.prototype={get:function(p){const d=Math.floor(p/8);return 1==(this.buffer[d]>>>7-p%8&1)},put:function(p,d){for(let h=0;h<d;h++)this.putBit(1==(p>>>d-h-1&1))},getLengthInBits:function(){return this.length},putBit:function(p){const d=Math.floor(this.length/8);this.buffer.length<=d&&this.buffer.push(0),p&&(this.buffer[d]|=128>>>this.length%8),this.length++}},Q.exports=m},25147:Q=>{function m(p){if(!p||p<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=p,this.data=new Uint8Array(p*p),this.reservedBit=new Uint8Array(p*p)}m.prototype.set=function(p,d,h,s){const l=p*this.size+d;this.data[l]=h,s&&(this.reservedBit[l]=!0)},m.prototype.get=function(p,d){return this.data[p*this.size+d]},m.prototype.xor=function(p,d,h){this.data[p*this.size+d]^=h},m.prototype.isReserved=function(p,d){return this.reservedBit[p*this.size+d]},Q.exports=m},277:(Q,m,p)=>{const d=p(76119),h=p(71239);function s(l){this.mode=h.BYTE,"string"==typeof l&&(l=d(l)),this.data=new Uint8Array(l)}s.getBitsLength=function(t){return 8*t},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(l){for(let t=0,f=this.data.length;t<f;t++)l.put(this.data[t],8)},Q.exports=s},87191:(Q,m,p)=>{const d=p(84505),h=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];m.getBlocksCount=function(t,f){switch(f){case d.L:return h[4*(t-1)+0];case d.M:return h[4*(t-1)+1];case d.Q:return h[4*(t-1)+2];case d.H:return h[4*(t-1)+3];default:return}},m.getTotalCodewordsCount=function(t,f){switch(f){case d.L:return s[4*(t-1)+0];case d.M:return s[4*(t-1)+1];case d.Q:return s[4*(t-1)+2];case d.H:return s[4*(t-1)+3];default:return}}},84505:(Q,m)=>{m.L={bit:1},m.M={bit:0},m.Q={bit:3},m.H={bit:2},m.isValid=function(h){return h&&typeof h.bit<"u"&&h.bit>=0&&h.bit<4},m.from=function(h,s){if(m.isValid(h))return h;try{return function p(d){if("string"!=typeof d)throw new Error("Param is not a string");switch(d.toLowerCase()){case"l":case"low":return m.L;case"m":case"medium":return m.M;case"q":case"quartile":return m.Q;case"h":case"high":return m.H;default:throw new Error("Unknown EC Level: "+d)}}(h)}catch{return s}}},95232:(Q,m,p)=>{const d=p(82562).getSymbolSize;m.getPositions=function(l){const t=d(l);return[[0,0],[t-7,0],[0,t-7]]}},58508:(Q,m,p)=>{const d=p(82562),l=d.getBCHDigit(1335);m.getEncodedBits=function(f,b){const _=f.bit<<3|b;let T=_<<10;for(;d.getBCHDigit(T)-l>=0;)T^=1335<<d.getBCHDigit(T)-l;return 21522^(_<<10|T)}},61674:(Q,m)=>{const p=new Uint8Array(512),d=new Uint8Array(256);(function(){let s=1;for(let l=0;l<255;l++)p[l]=s,d[s]=l,s<<=1,256&s&&(s^=285);for(let l=255;l<512;l++)p[l]=p[l-255]})(),m.log=function(s){if(s<1)throw new Error("log("+s+")");return d[s]},m.exp=function(s){return p[s]},m.mul=function(s,l){return 0===s||0===l?0:p[d[s]+d[l]]}},59995:(Q,m,p)=>{const d=p(71239),h=p(82562);function s(l){this.mode=d.KANJI,this.data=l}s.getBitsLength=function(t){return 13*t},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(l){let t;for(t=0;t<this.data.length;t++){let f=h.toSJIS(this.data[t]);if(f>=33088&&f<=40956)f-=33088;else{if(!(f>=57408&&f<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");f-=49472}f=192*(f>>>8&255)+(255&f),l.put(f,13)}},Q.exports=s},19023:(Q,m)=>{m.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function d(h,s,l){switch(h){case m.Patterns.PATTERN000:return(s+l)%2==0;case m.Patterns.PATTERN001:return s%2==0;case m.Patterns.PATTERN010:return l%3==0;case m.Patterns.PATTERN011:return(s+l)%3==0;case m.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(l/3))%2==0;case m.Patterns.PATTERN101:return s*l%2+s*l%3==0;case m.Patterns.PATTERN110:return(s*l%2+s*l%3)%2==0;case m.Patterns.PATTERN111:return(s*l%3+(s+l)%2)%2==0;default:throw new Error("bad maskPattern:"+h)}}m.isValid=function(s){return null!=s&&""!==s&&!isNaN(s)&&s>=0&&s<=7},m.from=function(s){return m.isValid(s)?parseInt(s,10):void 0},m.getPenaltyN1=function(s){const l=s.size;let t=0,f=0,b=0,_=null,T=null;for(let x=0;x<l;x++){f=b=0,_=T=null;for(let g=0;g<l;g++){let P=s.get(x,g);P===_?f++:(f>=5&&(t+=f-5+3),_=P,f=1),P=s.get(g,x),P===T?b++:(b>=5&&(t+=b-5+3),T=P,b=1)}f>=5&&(t+=f-5+3),b>=5&&(t+=b-5+3)}return t},m.getPenaltyN2=function(s){const l=s.size;let t=0;for(let f=0;f<l-1;f++)for(let b=0;b<l-1;b++){const _=s.get(f,b)+s.get(f,b+1)+s.get(f+1,b)+s.get(f+1,b+1);(4===_||0===_)&&t++}return 3*t},m.getPenaltyN3=function(s){const l=s.size;let t=0,f=0,b=0;for(let _=0;_<l;_++){f=b=0;for(let T=0;T<l;T++)f=f<<1&2047|s.get(_,T),T>=10&&(1488===f||93===f)&&t++,b=b<<1&2047|s.get(T,_),T>=10&&(1488===b||93===b)&&t++}return 40*t},m.getPenaltyN4=function(s){let l=0;const t=s.data.length;for(let b=0;b<t;b++)l+=s.data[b];return 10*Math.abs(Math.ceil(100*l/t/5)-10)},m.applyMask=function(s,l){const t=l.size;for(let f=0;f<t;f++)for(let b=0;b<t;b++)l.isReserved(b,f)||l.xor(b,f,d(s,b,f))},m.getBestMask=function(s,l){const t=Object.keys(m.Patterns).length;let f=0,b=1/0;for(let _=0;_<t;_++){l(_),m.applyMask(_,s);const T=m.getPenaltyN1(s)+m.getPenaltyN2(s)+m.getPenaltyN3(s)+m.getPenaltyN4(s);m.applyMask(_,s),T<b&&(b=T,f=_)}return f}},71239:(Q,m,p)=>{const d=p(16161),h=p(42427);m.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},m.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},m.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},m.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},m.MIXED={bit:-1},m.getCharCountIndicator=function(t,f){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!d.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?t.ccBits[0]:f<27?t.ccBits[1]:t.ccBits[2]},m.getBestModeForData=function(t){return h.testNumeric(t)?m.NUMERIC:h.testAlphanumeric(t)?m.ALPHANUMERIC:h.testKanji(t)?m.KANJI:m.BYTE},m.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},m.isValid=function(t){return t&&t.bit&&t.ccBits},m.from=function(t,f){if(m.isValid(t))return t;try{return function s(l){if("string"!=typeof l)throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return m.NUMERIC;case"alphanumeric":return m.ALPHANUMERIC;case"kanji":return m.KANJI;case"byte":return m.BYTE;default:throw new Error("Unknown mode: "+l)}}(t)}catch{return f}}},8722:(Q,m,p)=>{const d=p(71239);function h(s){this.mode=d.NUMERIC,this.data=s.toString()}h.getBitsLength=function(l){return 10*Math.floor(l/3)+(l%3?l%3*3+1:0)},h.prototype.getLength=function(){return this.data.length},h.prototype.getBitsLength=function(){return h.getBitsLength(this.data.length)},h.prototype.write=function(l){let t,f,b;for(t=0;t+3<=this.data.length;t+=3)f=this.data.substr(t,3),b=parseInt(f,10),l.put(b,10);const _=this.data.length-t;_>0&&(f=this.data.substr(t),b=parseInt(f,10),l.put(b,3*_+1))},Q.exports=h},22376:(Q,m,p)=>{const d=p(61674);m.mul=function(s,l){const t=new Uint8Array(s.length+l.length-1);for(let f=0;f<s.length;f++)for(let b=0;b<l.length;b++)t[f+b]^=d.mul(s[f],l[b]);return t},m.mod=function(s,l){let t=new Uint8Array(s);for(;t.length-l.length>=0;){const f=t[0];for(let _=0;_<l.length;_++)t[_]^=d.mul(l[_],f);let b=0;for(;b<t.length&&0===t[b];)b++;t=t.slice(b)}return t},m.generateECPolynomial=function(s){let l=new Uint8Array([1]);for(let t=0;t<s;t++)l=m.mul(l,new Uint8Array([1,d.exp(t)]));return l}},86208:(Q,m,p)=>{const d=p(82562),h=p(84505),s=p(16509),l=p(25147),t=p(65281),f=p(95232),b=p(19023),_=p(87191),T=p(91297),x=p(9467),g=p(58508),P=p(71239),L=p(51799);function Y(N,O,I){const M=N.size,J=g.getEncodedBits(O,I);let R,Z;for(R=0;R<15;R++)Z=1==(J>>R&1),N.set(R<6?R:R<8?R+1:M-15+R,8,Z,!0),N.set(8,R<8?M-R-1:R<9?15-R-1+1:15-R-1,Z,!0);N.set(M-8,8,1,!0)}function $(N,O,I,M){let J;if(Array.isArray(N))J=L.fromArray(N);else{if("string"!=typeof N)throw new Error("Invalid data");{let mt=O;if(!mt){const xt=L.rawSplit(N);mt=x.getBestVersionForData(xt,I)}J=L.fromString(N,mt||40)}}const R=x.getBestVersionForData(J,I);if(!R)throw new Error("The amount of data is too big to be stored in a QR Code");if(O){if(O<R)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+R+".\n")}else O=R;const Z=function E(N,O,I){const M=new s;I.forEach(function(k){M.put(k.mode.bit,4),M.put(k.getLength(),P.getCharCountIndicator(k.mode,N)),k.write(M)});const Z=8*(d.getSymbolTotalCodewords(N)-_.getTotalCodewordsCount(N,O));for(M.getLengthInBits()+4<=Z&&M.put(0,4);M.getLengthInBits()%8!=0;)M.putBit(0);const z=(Z-M.getLengthInBits())/8;for(let k=0;k<z;k++)M.put(k%2?17:236,8);return function it(N,O,I){const M=d.getSymbolTotalCodewords(O),R=M-_.getTotalCodewordsCount(O,I),Z=_.getBlocksCount(O,I),k=Z-M%Z,mt=Math.floor(M/Z),xt=Math.floor(R/Z),q=xt+1,Zt=mt-xt,Ct=new T(Zt);let Ft=0;const It=new Array(Z),zt=new Array(Z);let $t=0;const de=new Uint8Array(N.buffer);for(let Pt=0;Pt<Z;Pt++){const te=Pt<k?xt:q;It[Pt]=de.slice(Ft,Ft+te),zt[Pt]=Ct.encode(It[Pt]),Ft+=te,$t=Math.max($t,te)}const Kt=new Uint8Array(M);let ht,bt,he=0;for(ht=0;ht<$t;ht++)for(bt=0;bt<Z;bt++)ht<It[bt].length&&(Kt[he++]=It[bt][ht]);for(ht=0;ht<Zt;ht++)for(bt=0;bt<Z;bt++)Kt[he++]=zt[bt][ht];return Kt}(M,N,O)}(O,I,J),z=d.getSymbolSize(O),k=new l(z);return function B(N,O){const I=N.size,M=f.getPositions(O);for(let J=0;J<M.length;J++){const R=M[J][0],Z=M[J][1];for(let z=-1;z<=7;z++)if(!(R+z<=-1||I<=R+z))for(let k=-1;k<=7;k++)Z+k<=-1||I<=Z+k||N.set(R+z,Z+k,z>=0&&z<=6&&(0===k||6===k)||k>=0&&k<=6&&(0===z||6===z)||z>=2&&z<=4&&k>=2&&k<=4,!0)}}(k,O),function F(N){const O=N.size;for(let I=8;I<O-8;I++){const M=I%2==0;N.set(I,6,M,!0),N.set(6,I,M,!0)}}(k),function j(N,O){const I=t.getPositions(O);for(let M=0;M<I.length;M++){const J=I[M][0],R=I[M][1];for(let Z=-2;Z<=2;Z++)for(let z=-2;z<=2;z++)N.set(J+Z,R+z,-2===Z||2===Z||-2===z||2===z||0===Z&&0===z,!0)}}(k,O),Y(k,I,0),O>=7&&function D(N,O){const I=N.size,M=x.getEncodedBits(O);let J,R,Z;for(let z=0;z<18;z++)J=Math.floor(z/3),R=z%3+I-8-3,Z=1==(M>>z&1),N.set(J,R,Z,!0),N.set(R,J,Z,!0)}(k,O),function U(N,O){const I=N.size;let M=-1,J=I-1,R=7,Z=0;for(let z=I-1;z>0;z-=2)for(6===z&&z--;;){for(let k=0;k<2;k++)if(!N.isReserved(J,z-k)){let mt=!1;Z<O.length&&(mt=1==(O[Z]>>>R&1)),N.set(J,z-k,mt),R--,-1===R&&(Z++,R=7)}if(J+=M,J<0||I<=J){J-=M,M=-M;break}}}(k,Z),isNaN(M)&&(M=b.getBestMask(k,Y.bind(null,k,I))),b.applyMask(M,k),Y(k,I,M),{modules:k,version:O,errorCorrectionLevel:I,maskPattern:M,segments:J}}m.create=function(O,I){if(typeof O>"u"||""===O)throw new Error("No input text");let J,R,M=h.M;return typeof I<"u"&&(M=h.from(I.errorCorrectionLevel,h.M),J=x.from(I.version),R=b.from(I.maskPattern),I.toSJISFunc&&d.setToSJISFunction(I.toSJISFunc)),$(O,J,M,R)}},91297:(Q,m,p)=>{const d=p(22376);function h(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}h.prototype.initialize=function(l){this.degree=l,this.genPoly=d.generateECPolynomial(this.degree)},h.prototype.encode=function(l){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(l.length+this.degree);t.set(l);const f=d.mod(t,this.genPoly),b=this.degree-f.length;if(b>0){const _=new Uint8Array(this.degree);return _.set(f,b),_}return f},Q.exports=h},42427:(Q,m)=>{const p="[0-9]+";let h="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";h=h.replace(/u/g,"\\u");const s="(?:(?![A-Z0-9 $%*+\\-./:]|"+h+")(?:.|[\r\n]))+";m.KANJI=new RegExp(h,"g"),m.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),m.BYTE=new RegExp(s,"g"),m.NUMERIC=new RegExp(p,"g"),m.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const l=new RegExp("^"+h+"$"),t=new RegExp("^"+p+"$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");m.testKanji=function(_){return l.test(_)},m.testNumeric=function(_){return t.test(_)},m.testAlphanumeric=function(_){return f.test(_)}},51799:(Q,m,p)=>{const d=p(71239),h=p(8722),s=p(30120),l=p(277),t=p(59995),f=p(42427),b=p(82562),_=p(87206);function T(D){return unescape(encodeURIComponent(D)).length}function x(D,Y,U){const E=[];let it;for(;null!==(it=D.exec(U));)E.push({data:it[0],index:it.index,mode:Y,length:it[0].length});return E}function g(D){const Y=x(f.NUMERIC,d.NUMERIC,D),U=x(f.ALPHANUMERIC,d.ALPHANUMERIC,D);let E,it;return b.isKanjiModeEnabled()?(E=x(f.BYTE,d.BYTE,D),it=x(f.KANJI,d.KANJI,D)):(E=x(f.BYTE_KANJI,d.BYTE,D),it=[]),Y.concat(U,E,it).sort(function(N,O){return N.index-O.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function P(D,Y){switch(Y){case d.NUMERIC:return h.getBitsLength(D);case d.ALPHANUMERIC:return s.getBitsLength(D);case d.KANJI:return t.getBitsLength(D);case d.BYTE:return l.getBitsLength(D)}}function j(D,Y){let U;const E=d.getBestModeForData(D);if(U=d.from(Y,E),U!==d.BYTE&&U.bit<E.bit)throw new Error('"'+D+'" cannot be encoded with mode '+d.toString(U)+".\n Suggested mode is: "+d.toString(E));switch(U===d.KANJI&&!b.isKanjiModeEnabled()&&(U=d.BYTE),U){case d.NUMERIC:return new h(D);case d.ALPHANUMERIC:return new s(D);case d.KANJI:return new t(D);case d.BYTE:return new l(D)}}m.fromArray=function(Y){return Y.reduce(function(U,E){return"string"==typeof E?U.push(j(E,null)):E.data&&U.push(j(E.data,E.mode)),U},[])},m.fromString=function(Y,U){const it=function B(D){const Y=[];for(let U=0;U<D.length;U++){const E=D[U];switch(E.mode){case d.NUMERIC:Y.push([E,{data:E.data,mode:d.ALPHANUMERIC,length:E.length},{data:E.data,mode:d.BYTE,length:E.length}]);break;case d.ALPHANUMERIC:Y.push([E,{data:E.data,mode:d.BYTE,length:E.length}]);break;case d.KANJI:Y.push([E,{data:E.data,mode:d.BYTE,length:T(E.data)}]);break;case d.BYTE:Y.push([{data:E.data,mode:d.BYTE,length:T(E.data)}])}}return Y}(g(Y,b.isKanjiModeEnabled())),$=function F(D,Y){const U={},E={start:{}};let it=["start"];for(let $=0;$<D.length;$++){const N=D[$],O=[];for(let I=0;I<N.length;I++){const M=N[I],J=""+$+I;O.push(J),U[J]={node:M,lastCount:0},E[J]={};for(let R=0;R<it.length;R++){const Z=it[R];U[Z]&&U[Z].node.mode===M.mode?(E[Z][J]=P(U[Z].lastCount+M.length,M.mode)-P(U[Z].lastCount,M.mode),U[Z].lastCount+=M.length):(U[Z]&&(U[Z].lastCount=M.length),E[Z][J]=P(M.length,M.mode)+4+d.getCharCountIndicator(M.mode,Y))}}it=O}for(let $=0;$<it.length;$++)E[it[$]].end=0;return{map:E,table:U}}(it,U),N=_.find_path($.map,"start","end"),O=[];for(let I=1;I<N.length-1;I++)O.push($.table[N[I]].node);return m.fromArray(function L(D){return D.reduce(function(Y,U){const E=Y.length-1>=0?Y[Y.length-1]:null;return E&&E.mode===U.mode?(Y[Y.length-1].data+=U.data,Y):(Y.push(U),Y)},[])}(O))},m.rawSplit=function(Y){return m.fromArray(g(Y,b.isKanjiModeEnabled()))}},82562:(Q,m)=>{let p;const d=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];m.getSymbolSize=function(s){if(!s)throw new Error('"version" cannot be null or undefined');if(s<1||s>40)throw new Error('"version" should be in range from 1 to 40');return 4*s+17},m.getSymbolTotalCodewords=function(s){return d[s]},m.getBCHDigit=function(h){let s=0;for(;0!==h;)s++,h>>>=1;return s},m.setToSJISFunction=function(s){if("function"!=typeof s)throw new Error('"toSJISFunc" is not a valid function.');p=s},m.isKanjiModeEnabled=function(){return typeof p<"u"},m.toSJIS=function(s){return p(s)}},16161:(Q,m)=>{m.isValid=function(d){return!isNaN(d)&&d>=1&&d<=40}},9467:(Q,m,p)=>{const d=p(82562),h=p(87191),s=p(84505),l=p(71239),t=p(16161),b=d.getBCHDigit(7973);function T(P,L){return l.getCharCountIndicator(P,L)+4}function x(P,L){let B=0;return P.forEach(function(F){const j=T(F.mode,L);B+=j+F.getBitsLength()}),B}m.from=function(L,B){return t.isValid(L)?parseInt(L,10):B},m.getCapacity=function(L,B,F){if(!t.isValid(L))throw new Error("Invalid QR Code version");typeof F>"u"&&(F=l.BYTE);const Y=8*(d.getSymbolTotalCodewords(L)-h.getTotalCodewordsCount(L,B));if(F===l.MIXED)return Y;const U=Y-T(F,L);switch(F){case l.NUMERIC:return Math.floor(U/10*3);case l.ALPHANUMERIC:return Math.floor(U/11*2);case l.KANJI:return Math.floor(U/13);default:return Math.floor(U/8)}},m.getBestVersionForData=function(L,B){let F;const j=s.from(B,s.M);if(Array.isArray(L)){if(L.length>1)return function g(P,L){for(let B=1;B<=40;B++)if(x(P,B)<=m.getCapacity(B,L,l.MIXED))return B}(L,j);if(0===L.length)return 1;F=L[0]}else F=L;return function _(P,L,B){for(let F=1;F<=40;F++)if(L<=m.getCapacity(F,B,P))return F}(F.mode,F.getLength(),j)},m.getEncodedBits=function(L){if(!t.isValid(L)||L<7)throw new Error("Invalid QR Code version");let B=L<<12;for(;d.getBCHDigit(B)-b>=0;)B^=7973<<d.getBCHDigit(B)-b;return L<<12|B}},26422:(Q,m,p)=>{const d=p(11101);m.render=function(t,f,b){let _=b,T=f;typeof _>"u"&&(!f||!f.getContext)&&(_=f,f=void 0),f||(T=function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),_=d.getOptions(_);const x=d.getImageWidth(t.modules.size,_),g=T.getContext("2d"),P=g.createImageData(x,x);return d.qrToImageData(P.data,t,_),function h(l,t,f){l.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=f,t.width=f,t.style.height=f+"px",t.style.width=f+"px"}(g,T,x),g.putImageData(P,0,0),T},m.renderToDataURL=function(t,f,b){let _=b;return typeof _>"u"&&(!f||!f.getContext)&&(_=f,f=void 0),_||(_={}),m.render(t,f,_).toDataURL(_.type||"image/png",(_.rendererOpts||{}).quality)}},77772:(Q,m,p)=>{const d=p(11101);function h(t,f){const b=t.a/255,_=f+'="'+t.hex+'"';return b<1?_+" "+f+'-opacity="'+b.toFixed(2).slice(1)+'"':_}function s(t,f,b){let _=t+f;return typeof b<"u"&&(_+=" "+b),_}m.render=function(f,b,_){const T=d.getOptions(b),x=f.modules.size,g=f.modules.data,P=x+2*T.margin,L=T.color.light.a?"<path "+h(T.color.light,"fill")+' d="M0 0h'+P+"v"+P+'H0z"/>':"",B="<path "+h(T.color.dark,"stroke")+' d="'+function l(t,f,b){let _="",T=0,x=!1,g=0;for(let P=0;P<t.length;P++){const L=Math.floor(P%f),B=Math.floor(P/f);!L&&!x&&(x=!0),t[P]?(g++,P>0&&L>0&&t[P-1]||(_+=x?s("M",L+b,.5+B+b):s("m",T,0),T=0,x=!1),L+1<f&&t[P+1]||(_+=s("h",g),g=0)):T++}return _}(g,x,T.margin)+'"/>',D='<svg xmlns="http://www.w3.org/2000/svg" '+(T.width?'width="'+T.width+'" height="'+T.width+'" ':"")+'viewBox="0 0 '+P+" "+P+'" shape-rendering="crispEdges">'+L+B+"</svg>\n";return"function"==typeof _&&_(null,D),D}},11101:(Q,m)=>{function p(d){if("number"==typeof d&&(d=d.toString()),"string"!=typeof d)throw new Error("Color should be defined as hex string");let h=d.slice().replace("#","").split("");if(h.length<3||5===h.length||h.length>8)throw new Error("Invalid hex color: "+d);(3===h.length||4===h.length)&&(h=Array.prototype.concat.apply([],h.map(function(l){return[l,l]}))),6===h.length&&h.push("F","F");const s=parseInt(h.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:255&s,hex:"#"+h.slice(0,6).join("")}}m.getOptions=function(h){h||(h={}),h.color||(h.color={});const l=h.width&&h.width>=21?h.width:void 0;return{width:l,scale:l?4:h.scale||4,margin:typeof h.margin>"u"||null===h.margin||h.margin<0?4:h.margin,color:{dark:p(h.color.dark||"#000000ff"),light:p(h.color.light||"#ffffffff")},type:h.type,rendererOpts:h.rendererOpts||{}}},m.getScale=function(h,s){return s.width&&s.width>=h+2*s.margin?s.width/(h+2*s.margin):s.scale},m.getImageWidth=function(h,s){const l=m.getScale(h,s);return Math.floor((h+2*s.margin)*l)},m.qrToImageData=function(h,s,l){const t=s.modules.size,f=s.modules.data,b=m.getScale(t,l),_=Math.floor((t+2*l.margin)*b),T=l.margin*b,x=[l.color.light,l.color.dark];for(let g=0;g<_;g++)for(let P=0;P<_;P++){let L=4*(g*_+P),B=l.color.light;g>=T&&P>=T&&g<_-T&&P<_-T&&(B=x[f[Math.floor((g-T)/b)*t+Math.floor((P-T)/b)]?1:0]),h[L++]=B.r,h[L++]=B.g,h[L++]=B.b,h[L]=B.a}}},75162:(Q,m,p)=>{"use strict";p.r(m),p.d(m,{ACCOUNT_CONFIG_OPTIONS:()=>ve,AccountExtensionsGuard:()=>Rr,AccountPublicModule:()=>Or,AccountService:()=>At,AuthenticationFlowGuard:()=>_r,AuthenticatorAppComponent:()=>lo,AuthenticatorAppService:()=>ii,ChangePasswordComponent:()=>oi,ChangePasswordService:()=>ti,EmailConfirmationComponent:()=>ze,ForgotPasswordComponent:()=>Je,LinkLoggedComponent:()=>qe,LoginComponent:()=>Ge,LoginWithRecoveryCodeComponent:()=>so,ManageProfileComponent:()=>He,ManageProfileResolver:()=>di,ManageProfileStateService:()=>Wt,MySecurityLogsComponent:()=>ye,PERIODICALLY_CHANGE_PASSWORD:()=>eo,PasswordComplexityIndicatorComponent:()=>Xt,PasswordComplexityIndicatorService:()=>le,PersonalSettingsComponent:()=>ri,PersonalSettingsEmailComponent:()=>li,PersonalSettingsHalfRowComponent:()=>_e,PersonalSettingsPhoneNumberComponent:()=>ci,PersonalSettingsTimerZoneComponent:()=>ui,PersonalSettingsVerifyButtonComponent:()=>Ae,ProfilePictureComponent:()=>ai,QrCodeComponent:()=>co,RECAPTCHA_STRATEGY:()=>Qe,REQUIRES_TWO_FACTOR:()=>Ki,RE_LOGIN_CONFIRMATION_TOKEN:()=>ni,RecaptchaLoginStrategy:()=>ji,RecaptchaPageStrategy:()=>Ye,RecaptchaRegisterStrategy:()=>Wi,RecaptchaService:()=>ce,RecaptchaStrategy:()=>Ve,RecaptchaV2Strategy:()=>Xi,RecaptchaV3Strategy:()=>$i,RecoveryCodeGuard:()=>Tr,RecoveryCodeService:()=>jt,RefreshPasswordComponent:()=>pi,RegisterComponent:()=>We,ResetPasswordComponent:()=>Xe,SHOULD_CHANGE_PASSWORD_ON_NEXT_LOGIN:()=>to,SecurityCodeGuard:()=>Cr,SecurityCodeService:()=>Ht,SendSecurityCodeComponent:()=>$e,TwoFactorTabComponent:()=>si,TwoFactorTabService:()=>ei,UrlComponentEncoder:()=>Hi,accountOptionsFactory:()=>mo,authenticationFlowGuard:()=>ue,getRedirectUrl:()=>we,recoveryCodeGuard:()=>ao,securityCodeGuard:()=>ro});var d=p(49671),h=p(65765),s=p(88762),l=p(69670),t=p(19212),f=p(32427),b=p(11411),_=p(86123),T=p(23758),x=p(96814),g=p(60095),P=p(64716),L=p(94664),B=p(21441),F=p(26306),j=p(99397),D=p(32181),Y=p(48180),U=p(37398),E=p(74995),it=p(65619),$=p(22096),N=p(65592),O=p(7715),I=p(58504),M=p(88407),J=p(78645),R=p(36232),Z=p(836),z=p(59278),k=p(86825),mt=p(10346),xt=p(67861),q=p(17557),Zt=p(71993),Ct=p(23079);function Ft(o,n){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),e.push.apply(e,i)}return e}function It(o){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Ft(Object(e),!0).forEach(function(i){he(o,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):Ft(Object(e)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(e,i))})}return o}function zt(o){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function de(o,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,wi(i.key),i)}}function he(o,n,e){return(n=wi(n))in o?Object.defineProperty(o,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[n]=e,o}function ht(o){return function bt(o){if(Array.isArray(o))return Te(o)}(o)||function Pt(o){if(typeof Symbol<"u"&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)}(o)||function te(o,n){if(o){if("string"==typeof o)return Te(o,n);var e=Object.prototype.toString.call(o).slice(8,-1);if("Object"===e&&o.constructor&&(e=o.constructor.name),"Map"===e||"Set"===e)return Array.from(o);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Te(o,n)}}(o)||function Ao(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(o,n){(null==n||n>o.length)&&(n=o.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=o[e];return i}function wi(o){var n=function _o(o,n){if("object"!=typeof o||null===o)return o;var e=o[Symbol.toPrimitive];if(void 0!==e){var i=e.call(o,n||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(o)}(o,"string");return"symbol"==typeof n?n:String(n)}var fe=typeof window<"u"&&typeof window.document<"u",wt=fe?window:{},Se=!(!fe||!wt.document.documentElement)&&"ontouchstart"in wt.document.documentElement,xe=!!fe&&"PointerEvent"in wt,tt="cropper",Lt="n",ee="ne",ie="nw",oe="se",ne="sw",Le="".concat(tt,"-crop"),Ci="".concat(tt,"-disabled"),lt="".concat(tt,"-hidden"),Ti="".concat(tt,"-hide"),Co="".concat(tt,"-invisible"),ge="".concat(tt,"-modal"),Me="".concat(tt,"-move"),re="".concat(tt,"Action"),me="".concat(tt,"Preview"),Ee="crop",Ne="crop",Ze="cropend",Ie="cropmove",Ue="cropstart",Pi="dblclick",Li=xe?"pointerdown":Se?"touchstart":"mousedown",Mi=xe?"pointermove":Se?"touchmove":"mousemove",Ei=xe?"pointerup pointercancel":Se?"touchend touchcancel":"mouseup",Oe="zoom",Ui="image/jpeg",Po=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Lo=/^data:/,Mo=/^data:image\/jpeg;base64,/,Eo=/^img|canvas$/i,Di={viewMode:0,dragMode:Ee,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Zo=Number.isNaN||wt.isNaN;function G(o){return"number"==typeof o&&!Zo(o)}var ki=function(n){return n>0&&n<1/0};function Re(o){return typeof o>"u"}function Rt(o){return"object"===zt(o)&&null!==o}var Io=Object.prototype.hasOwnProperty;function qt(o){if(!Rt(o))return!1;try{var n=o.constructor,e=n.prototype;return n&&e&&Io.call(e,"isPrototypeOf")}catch{return!1}}function ut(o){return"function"==typeof o}var Uo=Array.prototype.slice;function Bi(o){return Array.from?Array.from(o):Uo.call(o)}function ot(o,n){return o&&ut(n)&&(Array.isArray(o)||G(o.length)?Bi(o).forEach(function(e,i){n.call(o,e,i,o)}):Rt(o)&&Object.keys(o).forEach(function(e){n.call(o,o[e],e,o)})),o}var et=Object.assign||function(n){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return Rt(n)&&i.length>0&&i.forEach(function(a){Rt(a)&&Object.keys(a).forEach(function(c){n[c]=a[c]})}),n},Oo=/\.\d*(?:0|9){12}\d*$/;function Yt(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Oo.test(o)?Math.round(o*n)/n:o}var Ro=/^width|height|left|top|marginLeft|marginTop$/;function Mt(o,n){var e=o.style;ot(n,function(i,r){Ro.test(r)&&G(i)&&(i="".concat(i,"px")),e[r]=i})}function st(o,n){if(n){if(G(o.length))return void ot(o,function(i){st(i,n)});if(o.classList)return void o.classList.add(n);var e=o.className.trim();e?e.indexOf(n)<0&&(o.className="".concat(e," ").concat(n)):o.className=n}}function yt(o,n){if(n){if(G(o.length))return void ot(o,function(e){yt(e,n)});if(o.classList)return void o.classList.remove(n);o.className.indexOf(n)>=0&&(o.className=o.className.replace(n,""))}}function Qt(o,n,e){if(n){if(G(o.length))return void ot(o,function(i){Qt(i,n,e)});e?st(o,n):yt(o,n)}}var ko=/([a-z\d])([A-Z])/g;function De(o){return o.replace(ko,"$1-$2").toLowerCase()}function ke(o,n){return Rt(o[n])?o[n]:o.dataset?o.dataset[n]:o.getAttribute("data-".concat(De(n)))}function ae(o,n,e){Rt(e)?o[n]=e:o.dataset?o.dataset[n]=e:o.setAttribute("data-".concat(De(n)),e)}var Fi=/\s\s*/,zi=function(){var o=!1;if(fe){var n=!1,e=function(){},i=Object.defineProperty({},"once",{get:function(){return o=!0,n},set:function(a){n=a}});wt.addEventListener("test",e,i),wt.removeEventListener("test",e,i)}return o}();function vt(o,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e;n.trim().split(Fi).forEach(function(a){if(!zi){var c=o.listeners;c&&c[a]&&c[a][e]&&(r=c[a][e],delete c[a][e],0===Object.keys(c[a]).length&&delete c[a],0===Object.keys(c).length&&delete o.listeners)}o.removeEventListener(a,r,i)})}function ft(o,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e;n.trim().split(Fi).forEach(function(a){if(i.once&&!zi){var c=o.listeners,u=void 0===c?{}:c;r=function(){delete u[a][e],o.removeEventListener(a,r,i);for(var w=arguments.length,v=new Array(w),y=0;y<w;y++)v[y]=arguments[y];e.apply(o,v)},u[a]||(u[a]={}),u[a][e]&&o.removeEventListener(a,u[a][e],i),u[a][e]=r,o.listeners=u}o.addEventListener(a,r,i)})}function Vt(o,n,e){var i;return ut(Event)&&ut(CustomEvent)?i=new CustomEvent(n,{detail:e,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,e),o.dispatchEvent(i)}function Ji(o){var n=o.getBoundingClientRect();return{left:n.left+(window.pageXOffset-document.documentElement.clientLeft),top:n.top+(window.pageYOffset-document.documentElement.clientTop)}}var Be=wt.location,Fo=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function qi(o){var n=o.match(Fo);return null!==n&&(n[1]!==Be.protocol||n[2]!==Be.hostname||n[3]!==Be.port)}function Yi(o){var n="timestamp=".concat((new Date).getTime());return o+(-1===o.indexOf("?")?"?":"&")+n}function se(o){var n=o.rotate,e=o.scaleX,i=o.scaleY,r=o.translateX,a=o.translateY,c=[];G(r)&&0!==r&&c.push("translateX(".concat(r,"px)")),G(a)&&0!==a&&c.push("translateY(".concat(a,"px)")),G(n)&&0!==n&&c.push("rotate(".concat(n,"deg)")),G(e)&&1!==e&&c.push("scaleX(".concat(e,")")),G(i)&&1!==i&&c.push("scaleY(".concat(i,")"));var u=c.length?c.join(" "):"none";return{WebkitTransform:u,msTransform:u,transform:u}}function be(o,n){var e=o.pageX,i=o.pageY,r={endX:e,endY:i};return n?r:It({startX:e,startY:i},r)}function Et(o){var n=o.aspectRatio,e=o.height,i=o.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=ki(i),c=ki(e);if(a&&c){var u=e*n;"contain"===r&&u>i||"cover"===r&&u<i?e=i/n:i=e*n}else a?e=i/n:c&&(i=e*n);return{width:i,height:e}}var Qi=String.fromCharCode,Vo=/^data:.*,/;var Xo={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var n=this.element,e=this.options,i=this.container,r=this.cropper,a=Number(e.minContainerWidth),c=Number(e.minContainerHeight);st(r,lt),yt(n,lt);var u={width:Math.max(i.offsetWidth,a>=0?a:200),height:Math.max(i.offsetHeight,c>=0?c:100)};this.containerData=u,Mt(r,{width:u.width,height:u.height}),st(n,lt),yt(r,lt)},initCanvas:function(){var n=this.containerData,e=this.imageData,i=this.options.viewMode,r=Math.abs(e.rotate)%180==90,a=r?e.naturalHeight:e.naturalWidth,c=r?e.naturalWidth:e.naturalHeight,u=a/c,A=n.width,w=n.height;n.height*u>n.width?3===i?A=n.height*u:w=n.width/u:3===i?w=n.width/u:A=n.height*u;var v={aspectRatio:u,naturalWidth:a,naturalHeight:c,width:A,height:w};this.canvasData=v,this.limited=1===i||2===i,this.limitCanvas(!0,!0),v.width=Math.min(Math.max(v.width,v.minWidth),v.maxWidth),v.height=Math.min(Math.max(v.height,v.minHeight),v.maxHeight),v.left=(n.width-v.width)/2,v.top=(n.height-v.height)/2,v.oldLeft=v.left,v.oldTop=v.top,this.initialCanvasData=et({},v)},limitCanvas:function(n,e){var i=this.options,r=this.containerData,a=this.canvasData,c=this.cropBoxData,u=i.viewMode,A=a.aspectRatio,w=this.cropped&&c;if(n){var v=Number(i.minCanvasWidth)||0,y=Number(i.minCanvasHeight)||0;u>1?(v=Math.max(v,r.width),y=Math.max(y,r.height),3===u&&(y*A>v?v=y*A:y=v/A)):u>0&&(v?v=Math.max(v,w?c.width:0):y?y=Math.max(y,w?c.height:0):w&&((y=c.height)*A>(v=c.width)?v=y*A:y=v/A));var C=Et({aspectRatio:A,width:v,height:y});y=C.height,a.minWidth=v=C.width,a.minHeight=y,a.maxWidth=1/0,a.maxHeight=1/0}if(e)if(u>(w?0:1)){var H=r.width-a.width,V=r.height-a.height;a.minLeft=Math.min(0,H),a.minTop=Math.min(0,V),a.maxLeft=Math.max(0,H),a.maxTop=Math.max(0,V),w&&this.limited&&(a.minLeft=Math.min(c.left,c.left+(c.width-a.width)),a.minTop=Math.min(c.top,c.top+(c.height-a.height)),a.maxLeft=c.left,a.maxTop=c.top,2===u&&(a.width>=r.width&&(a.minLeft=Math.min(0,H),a.maxLeft=Math.max(0,H)),a.height>=r.height&&(a.minTop=Math.min(0,V),a.maxTop=Math.max(0,V))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=r.width,a.maxTop=r.height},renderCanvas:function(n,e){var i=this.canvasData,r=this.imageData;if(e){var a=function qo(o){var n=o.width,e=o.height,i=o.degree;if(90==(i=Math.abs(i)%180))return{width:e,height:n};var r=i%90*Math.PI/180,a=Math.sin(r),c=Math.cos(r),u=n*c+e*a,A=n*a+e*c;return i>90?{width:A,height:u}:{width:u,height:A}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),c=a.width,u=a.height,A=i.width*(c/i.naturalWidth),w=i.height*(u/i.naturalHeight);i.left-=(A-i.width)/2,i.top-=(w-i.height)/2,i.width=A,i.height=w,i.aspectRatio=c/u,i.naturalWidth=c,i.naturalHeight=u,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,Mt(this.canvas,et({width:i.width,height:i.height},se({translateX:i.left,translateY:i.top}))),this.renderImage(n),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(n){var e=this.canvasData,i=this.imageData,r=i.naturalWidth*(e.width/e.naturalWidth),a=i.naturalHeight*(e.height/e.naturalHeight);et(i,{width:r,height:a,left:(e.width-r)/2,top:(e.height-a)/2}),Mt(this.image,et({width:i.width,height:i.height},se(et({translateX:i.left,translateY:i.top},i)))),n&&this.output()},initCropBox:function(){var n=this.options,e=this.canvasData,i=n.aspectRatio||n.initialAspectRatio,r=Number(n.autoCropArea)||.8,a={width:e.width,height:e.height};i&&(e.height*i>e.width?a.height=a.width/i:a.width=a.height*i),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*r),a.height=Math.max(a.minHeight,a.height*r),a.left=e.left+(e.width-a.width)/2,a.top=e.top+(e.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=et({},a)},limitCropBox:function(n,e){var i=this.options,r=this.containerData,a=this.canvasData,c=this.cropBoxData,u=this.limited,A=i.aspectRatio;if(n){var w=Number(i.minCropBoxWidth)||0,v=Number(i.minCropBoxHeight)||0,y=u?Math.min(r.width,a.width,a.width+a.left,r.width-a.left):r.width,C=u?Math.min(r.height,a.height,a.height+a.top,r.height-a.top):r.height;w=Math.min(w,r.width),v=Math.min(v,r.height),A&&(w&&v?v*A>w?v=w/A:w=v*A:w?v=w/A:v&&(w=v*A),C*A>y?C=y/A:y=C*A),c.minWidth=Math.min(w,y),c.minHeight=Math.min(v,C),c.maxWidth=y,c.maxHeight=C}e&&(u?(c.minLeft=Math.max(0,a.left),c.minTop=Math.max(0,a.top),c.maxLeft=Math.min(r.width,a.left+a.width)-c.width,c.maxTop=Math.min(r.height,a.top+a.height)-c.height):(c.minLeft=0,c.minTop=0,c.maxLeft=r.width-c.width,c.maxTop=r.height-c.height))},renderCropBox:function(){var n=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,n.movable&&n.cropBoxMovable&&ae(this.face,re,i.width>=e.width&&i.height>=e.height?"move":"all"),Mt(this.cropBox,et({width:i.width,height:i.height},se({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Vt(this.element,Ne,this.getData())}},$o={initPreview:function(){var n=this.element,e=this.crossOrigin,i=this.options.preview,r=e?this.crossOriginUrl:this.url,a=n.alt||"The image to preview",c=document.createElement("img");if(e&&(c.crossOrigin=e),c.src=r,c.alt=a,this.viewBox.appendChild(c),this.viewBoxImage=c,i){var u=i;"string"==typeof i?u=n.ownerDocument.querySelectorAll(i):i.querySelector&&(u=[i]),this.previews=u,ot(u,function(A){var w=document.createElement("img");ae(A,me,{width:A.offsetWidth,height:A.offsetHeight,html:A.innerHTML}),e&&(w.crossOrigin=e),w.src=r,w.alt=a,w.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',A.innerHTML="",A.appendChild(w)})}},resetPreview:function(){ot(this.previews,function(n){var e=ke(n,me);Mt(n,{width:e.width,height:e.height}),n.innerHTML=e.html,function Bo(o,n){if(Rt(o[n]))try{delete o[n]}catch{o[n]=void 0}else if(o.dataset)try{delete o.dataset[n]}catch{o.dataset[n]=void 0}else o.removeAttribute("data-".concat(De(n)))}(n,me)})},preview:function(){var n=this.imageData,e=this.canvasData,i=this.cropBoxData,r=i.width,a=i.height,c=n.width,u=n.height,A=i.left-e.left-n.left,w=i.top-e.top-n.top;!this.cropped||this.disabled||(Mt(this.viewBoxImage,et({width:c,height:u},se(et({translateX:-A,translateY:-w},n)))),ot(this.previews,function(v){var y=ke(v,me),C=y.width,H=y.height,V=C,K=H,W=1;r&&(K=a*(W=C/r)),a&&K>H&&(V=r*(W=H/a),K=H),Mt(v,{width:V,height:K}),Mt(v.getElementsByTagName("img")[0],et({width:c*W,height:u*W},se(et({translateX:-A*W,translateY:-w*W},n))))}))}},Ko={bind:function(){var n=this.element,e=this.options,i=this.cropper;ut(e.cropstart)&&ft(n,Ue,e.cropstart),ut(e.cropmove)&&ft(n,Ie,e.cropmove),ut(e.cropend)&&ft(n,Ze,e.cropend),ut(e.crop)&&ft(n,Ne,e.crop),ut(e.zoom)&&ft(n,Oe,e.zoom),ft(i,Li,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&ft(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&ft(i,Pi,this.onDblclick=this.dblclick.bind(this)),ft(n.ownerDocument,Mi,this.onCropMove=this.cropMove.bind(this)),ft(n.ownerDocument,Ei,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&ft(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var n=this.element,e=this.options,i=this.cropper;ut(e.cropstart)&&vt(n,Ue,e.cropstart),ut(e.cropmove)&&vt(n,Ie,e.cropmove),ut(e.cropend)&&vt(n,Ze,e.cropend),ut(e.crop)&&vt(n,Ne,e.crop),ut(e.zoom)&&vt(n,Oe,e.zoom),vt(i,Li,this.onCropStart),e.zoomable&&e.zoomOnWheel&&vt(i,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&vt(i,Pi,this.onDblclick),vt(n.ownerDocument,Mi,this.onCropMove),vt(n.ownerDocument,Ei,this.onCropEnd),e.responsive&&vt(window,"resize",this.onResize)}},tn={resize:function(){if(!this.disabled){var u,A,n=this.options,e=this.container,i=this.containerData,r=e.offsetWidth/i.width,a=e.offsetHeight/i.height,c=Math.abs(r-1)>Math.abs(a-1)?r:a;1!==c&&(n.restore&&(u=this.getCanvasData(),A=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(ot(u,function(w,v){u[v]=w*c})),this.setCropBoxData(ot(A,function(w,v){A[v]=w*c}))))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function Do(o,n){return o.classList?o.classList.contains(n):o.className.indexOf(n)>-1}(this.dragBox,Le)?"move":Ee)},wheel:function(n){var e=this,i=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(n.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),n.deltaY?r=n.deltaY>0?1:-1:n.wheelDelta?r=-n.wheelDelta/120:n.detail&&(r=n.detail>0?1:-1),this.zoom(-r*i,n)))},cropStart:function(n){var e=n.buttons,i=n.button;if(!(this.disabled||("mousedown"===n.type||"pointerdown"===n.type&&"mouse"===n.pointerType)&&(G(e)&&1!==e||G(i)&&0!==i||n.ctrlKey))){var c,r=this.options,a=this.pointers;n.changedTouches?ot(n.changedTouches,function(u){a[u.identifier]=be(u)}):a[n.pointerId||0]=be(n),c=Object.keys(a).length>1&&r.zoomable&&r.zoomOnTouch?"zoom":ke(n.target,re),Po.test(c)&&!1!==Vt(this.element,Ue,{originalEvent:n,action:c})&&(n.preventDefault(),this.action=c,this.cropping=!1,"crop"===c&&(this.cropping=!0,st(this.dragBox,ge)))}},cropMove:function(n){var e=this.action;if(!this.disabled&&e){var i=this.pointers;n.preventDefault(),!1!==Vt(this.element,Ie,{originalEvent:n,action:e})&&(n.changedTouches?ot(n.changedTouches,function(r){et(i[r.identifier]||{},be(r,!0))}):et(i[n.pointerId||0]||{},be(n,!0)),this.change(n))}},cropEnd:function(n){if(!this.disabled){var e=this.action,i=this.pointers;n.changedTouches?ot(n.changedTouches,function(r){delete i[r.identifier]}):delete i[n.pointerId||0],e&&(n.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,Qt(this.dragBox,ge,this.cropped&&this.options.modal)),Vt(this.element,Ze,{originalEvent:n,action:e}))}}},en={change:function(n){var Tt,i=this.canvasData,r=this.containerData,a=this.cropBoxData,c=this.pointers,u=this.action,A=this.options.aspectRatio,w=a.left,v=a.top,y=a.width,C=a.height,H=w+y,V=v+C,K=0,W=0,rt=r.width,ct=r.height,nt=!0;!A&&n.shiftKey&&(A=y&&C?y/C:1),this.limited&&(W=a.minTop,rt=(K=a.minLeft)+Math.min(r.width,i.width,i.left+i.width),ct=W+Math.min(r.height,i.height,i.top+i.height));var dt=c[Object.keys(c)[0]],S={x:dt.endX-dt.startX,y:dt.endY-dt.startY},X=function(gt){switch(gt){case"e":H+S.x>rt&&(S.x=rt-H);break;case"w":w+S.x<K&&(S.x=K-w);break;case Lt:v+S.y<W&&(S.y=W-v);break;case"s":V+S.y>ct&&(S.y=ct-V)}};switch(u){case"all":w+=S.x,v+=S.y;break;case"e":if(S.x>=0&&(H>=rt||A&&(v<=W||V>=ct))){nt=!1;break}X("e"),(y+=S.x)<0&&(u="w",w-=y=-y),A&&(v+=(a.height-(C=y/A))/2);break;case Lt:if(S.y<=0&&(v<=W||A&&(w<=K||H>=rt))){nt=!1;break}X(Lt),v+=S.y,(C-=S.y)<0&&(u="s",v-=C=-C),A&&(w+=(a.width-(y=C*A))/2);break;case"w":if(S.x<=0&&(w<=K||A&&(v<=W||V>=ct))){nt=!1;break}X("w"),w+=S.x,(y-=S.x)<0&&(u="e",w-=y=-y),A&&(v+=(a.height-(C=y/A))/2);break;case"s":if(S.y>=0&&(V>=ct||A&&(w<=K||H>=rt))){nt=!1;break}X("s"),(C+=S.y)<0&&(u=Lt,v-=C=-C),A&&(w+=(a.width-(y=C*A))/2);break;case ee:if(A){if(S.y<=0&&(v<=W||H>=rt)){nt=!1;break}X(Lt),v+=S.y,y=(C-=S.y)*A}else X(Lt),X("e"),S.x>=0?H<rt?y+=S.x:S.y<=0&&v<=W&&(nt=!1):y+=S.x,S.y<=0?v>W&&(C-=S.y,v+=S.y):(C-=S.y,v+=S.y);y<0&&C<0?(u=ne,v-=C=-C,w-=y=-y):y<0?(u=ie,w-=y=-y):C<0&&(u=oe,v-=C=-C);break;case ie:if(A){if(S.y<=0&&(v<=W||w<=K)){nt=!1;break}X(Lt),v+=S.y,w+=a.width-(y=(C-=S.y)*A)}else X(Lt),X("w"),S.x<=0?w>K?(y-=S.x,w+=S.x):S.y<=0&&v<=W&&(nt=!1):(y-=S.x,w+=S.x),S.y<=0?v>W&&(C-=S.y,v+=S.y):(C-=S.y,v+=S.y);y<0&&C<0?(u=oe,v-=C=-C,w-=y=-y):y<0?(u=ee,w-=y=-y):C<0&&(u=ne,v-=C=-C);break;case ne:if(A){if(S.x<=0&&(w<=K||V>=ct)){nt=!1;break}X("w"),w+=S.x,C=(y-=S.x)/A}else X("s"),X("w"),S.x<=0?w>K?(y-=S.x,w+=S.x):S.y>=0&&V>=ct&&(nt=!1):(y-=S.x,w+=S.x),S.y>=0?V<ct&&(C+=S.y):C+=S.y;y<0&&C<0?(u=ee,v-=C=-C,w-=y=-y):y<0?(u=oe,w-=y=-y):C<0&&(u=ie,v-=C=-C);break;case oe:if(A){if(S.x>=0&&(H>=rt||V>=ct)){nt=!1;break}X("e"),C=(y+=S.x)/A}else X("s"),X("e"),S.x>=0?H<rt?y+=S.x:S.y>=0&&V>=ct&&(nt=!1):y+=S.x,S.y>=0?V<ct&&(C+=S.y):C+=S.y;y<0&&C<0?(u=ie,v-=C=-C,w-=y=-y):y<0?(u=ne,w-=y=-y):C<0&&(u=ee,v-=C=-C);break;case"move":this.move(S.x,S.y),nt=!1;break;case"zoom":this.zoom(function zo(o){var n=It({},o),e=0;return ot(o,function(i,r){delete n[r],ot(n,function(a){var c=Math.abs(i.startX-a.startX),u=Math.abs(i.startY-a.startY),A=Math.abs(i.endX-a.endX),w=Math.abs(i.endY-a.endY),v=Math.sqrt(c*c+u*u),C=(Math.sqrt(A*A+w*w)-v)/v;Math.abs(C)>Math.abs(e)&&(e=C)})}),e}(c),n),nt=!1;break;case"crop":if(!S.x||!S.y){nt=!1;break}Tt=Ji(this.cropper),w=dt.startX-Tt.left,v=dt.startY-Tt.top,y=a.minWidth,C=a.minHeight,S.x>0?u=S.y>0?oe:ee:S.x<0&&(w-=y,u=S.y>0?ne:ie),S.y<0&&(v-=C),this.cropped||(yt(this.cropBox,lt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}nt&&(a.width=y,a.height=C,a.left=w,a.top=v,this.action=u,this.renderCropBox()),ot(c,function(at){at.startX=at.endX,at.startY=at.endY})}},on={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&st(this.dragBox,ge),yt(this.cropBox,lt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=et({},this.initialImageData),this.canvasData=et({},this.initialCanvasData),this.cropBoxData=et({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(et(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),yt(this.dragBox,ge),st(this.cropBox,lt)),this},replace:function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&n&&(this.isImg&&(this.element.src=n),e?(this.url=n,this.image.src=n,this.ready&&(this.viewBoxImage.src=n,ot(this.previews,function(i){i.getElementsByTagName("img")[0].src=n}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(n))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,yt(this.cropper,Ci)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,st(this.cropper,Ci)),this},destroy:function(){var n=this.element;return n[tt]?(n[tt]=void 0,this.isImg&&this.replaced&&(n.src=this.originalUrl),this.uncreate(),this):this},move:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i=this.canvasData,r=i.left,a=i.top;return this.moveTo(Re(n)?n:r+Number(n),Re(e)?e:a+Number(e))},moveTo:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i=this.canvasData,r=!1;return n=Number(n),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(G(n)&&(i.left=n,r=!0),G(e)&&(i.top=e,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(n,e){var i=this.canvasData;return n=Number(n),this.zoomTo(i.width*(n=n<0?1/(1-n):1+n)/i.naturalWidth,null,e)},zoomTo:function(n,e,i){var r=this.options,a=this.canvasData,c=a.width,u=a.height,A=a.naturalWidth,w=a.naturalHeight;if((n=Number(n))>=0&&this.ready&&!this.disabled&&r.zoomable){var v=A*n,y=w*n;if(!1===Vt(this.element,Oe,{ratio:n,oldRatio:c/A,originalEvent:i}))return this;if(i){var C=this.pointers,H=Ji(this.cropper),V=C&&Object.keys(C).length?function Jo(o){var n=0,e=0,i=0;return ot(o,function(r){n+=r.startX,e+=r.startY,i+=1}),{pageX:n/=i,pageY:e/=i}}(C):{pageX:i.pageX,pageY:i.pageY};a.left-=(V.pageX-H.left-a.left)/c*(v-c),a.top-=(V.pageY-H.top-a.top)/u*(y-u)}else qt(e)&&G(e.x)&&G(e.y)?(a.left-=(e.x-a.left)/c*(v-c),a.top-=(e.y-a.top)/u*(y-u)):(a.left-=(v-c)/2,a.top-=(y-u)/2);a.width=v,a.height=y,this.renderCanvas(!0)}return this},rotate:function(n){return this.rotateTo((this.imageData.rotate||0)+Number(n))},rotateTo:function(n){return G(n=Number(n))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=n%360,this.renderCanvas(!0,!0)),this},scaleX:function(n){var e=this.imageData.scaleY;return this.scale(n,G(e)?e:1)},scaleY:function(n){var e=this.imageData.scaleX;return this.scale(G(e)?e:1,n)},scale:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i=this.imageData,r=!1;return n=Number(n),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(G(n)&&(i.scaleX=n,r=!0),G(e)&&(i.scaleY=e,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var c,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.options,i=this.imageData,r=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){var u=i.width/i.naturalWidth;if(ot(c={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height},function(v,y){c[y]=v/u}),n){var A=Math.round(c.y+c.height),w=Math.round(c.x+c.width);c.x=Math.round(c.x),c.y=Math.round(c.y),c.width=w-c.x,c.height=A-c.y}}else c={x:0,y:0,width:0,height:0};return e.rotatable&&(c.rotate=i.rotate||0),e.scalable&&(c.scaleX=i.scaleX||1,c.scaleY=i.scaleY||1),c},setData:function(n){var e=this.options,i=this.imageData,r=this.canvasData,a={};if(this.ready&&!this.disabled&&qt(n)){var c=!1;e.rotatable&&G(n.rotate)&&n.rotate!==i.rotate&&(i.rotate=n.rotate,c=!0),e.scalable&&(G(n.scaleX)&&n.scaleX!==i.scaleX&&(i.scaleX=n.scaleX,c=!0),G(n.scaleY)&&n.scaleY!==i.scaleY&&(i.scaleY=n.scaleY,c=!0)),c&&this.renderCanvas(!0,!0);var u=i.width/i.naturalWidth;G(n.x)&&(a.left=n.x*u+r.left),G(n.y)&&(a.top=n.y*u+r.top),G(n.width)&&(a.width=n.width*u),G(n.height)&&(a.height=n.height*u),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?et({},this.containerData):{}},getImageData:function(){return this.sized?et({},this.imageData):{}},getCanvasData:function(){var n=this.canvasData,e={};return this.ready&&ot(["left","top","width","height","naturalWidth","naturalHeight"],function(i){e[i]=n[i]}),e},setCanvasData:function(n){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&qt(n)&&(G(n.left)&&(e.left=n.left),G(n.top)&&(e.top=n.top),G(n.width)?(e.width=n.width,e.height=n.width/i):G(n.height)&&(e.height=n.height,e.width=n.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,n=this.cropBoxData;return this.ready&&this.cropped&&(e={left:n.left,top:n.top,width:n.width,height:n.height}),e||{}},setCropBoxData:function(n){var r,a,e=this.cropBoxData,i=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&qt(n)&&(G(n.left)&&(e.left=n.left),G(n.top)&&(e.top=n.top),G(n.width)&&n.width!==e.width&&(r=!0,e.width=n.width),G(n.height)&&n.height!==e.height&&(a=!0,e.height=n.height),i&&(r?e.height=e.width/i:a&&(e.width=e.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=function Yo(o,n,e,i){var r=n.aspectRatio,a=n.naturalWidth,c=n.naturalHeight,u=n.rotate,A=void 0===u?0:u,w=n.scaleX,v=void 0===w?1:w,y=n.scaleY,C=void 0===y?1:y,H=e.aspectRatio,V=e.naturalWidth,K=e.naturalHeight,W=i.fillColor,rt=void 0===W?"transparent":W,ct=i.imageSmoothingEnabled,nt=void 0===ct||ct,Tt=i.imageSmoothingQuality,dt=void 0===Tt?"low":Tt,S=i.maxWidth,X=void 0===S?1/0:S,at=i.maxHeight,gt=void 0===at?1/0:at,St=i.minWidth,Dt=void 0===St?0:St,kt=i.minHeight,Nt=void 0===kt?0:kt,_t=document.createElement("canvas"),pt=_t.getContext("2d"),Bt=Et({aspectRatio:H,width:X,height:gt}),Ce=Et({aspectRatio:H,width:Dt,height:Nt},"cover"),bi=Math.min(Bt.width,Math.max(Ce.width,V)),vi=Math.min(Bt.height,Math.max(Ce.height,K)),bo=Et({aspectRatio:r,width:X,height:gt}),vo=Et({aspectRatio:r,width:Dt,height:Nt},"cover"),wo=Math.min(bo.width,Math.max(vo.width,a)),yo=Math.min(bo.height,Math.max(vo.height,c)),Dr=[-wo/2,-yo/2,wo,yo];return _t.width=Yt(bi),_t.height=Yt(vi),pt.fillStyle=rt,pt.fillRect(0,0,bi,vi),pt.save(),pt.translate(bi/2,vi/2),pt.rotate(A*Math.PI/180),pt.scale(v,C),pt.imageSmoothingEnabled=nt,pt.imageSmoothingQuality=dt,pt.drawImage.apply(pt,[o].concat(ht(Dr.map(function(kr){return Math.floor(Yt(kr))})))),pt.restore(),_t}(this.image,this.imageData,e,n);if(!this.cropped)return i;var r=this.getData(n.rounded),a=r.x,c=r.y,u=r.width,A=r.height,w=i.width/Math.floor(e.naturalWidth);1!==w&&(a*=w,c*=w,u*=w,A*=w);var v=u/A,y=Et({aspectRatio:v,width:n.maxWidth||1/0,height:n.maxHeight||1/0}),C=Et({aspectRatio:v,width:n.minWidth||0,height:n.minHeight||0},"cover"),H=Et({aspectRatio:v,width:n.width||(1!==w?i.width:u),height:n.height||(1!==w?i.height:A)}),V=H.width,K=H.height;V=Math.min(y.width,Math.max(C.width,V)),K=Math.min(y.height,Math.max(C.height,K));var W=document.createElement("canvas"),rt=W.getContext("2d");W.width=Yt(V),W.height=Yt(K),rt.fillStyle=n.fillColor||"transparent",rt.fillRect(0,0,V,K);var ct=n.imageSmoothingEnabled,Tt=n.imageSmoothingQuality;rt.imageSmoothingEnabled=void 0===ct||ct,Tt&&(rt.imageSmoothingQuality=Tt);var gt,St,Dt,kt,Nt,_t,dt=i.width,S=i.height,X=a,at=c;X<=-u||X>dt?(X=0,gt=0,Dt=0,Nt=0):X<=0?(Dt=-X,X=0,Nt=gt=Math.min(dt,u+X)):X<=dt&&(Dt=0,Nt=gt=Math.min(u,dt-X)),gt<=0||at<=-A||at>S?(at=0,St=0,kt=0,_t=0):at<=0?(kt=-at,at=0,_t=St=Math.min(S,A+at)):at<=S&&(kt=0,_t=St=Math.min(A,S-at));var pt=[X,at,gt,St];if(Nt>0&&_t>0){var Bt=V/u;pt.push(Dt*Bt,kt*Bt,Nt*Bt,_t*Bt)}return rt.drawImage.apply(rt,[i].concat(ht(pt.map(function(Ce){return Math.floor(Yt(Ce))})))),W},setAspectRatio:function(n){var e=this.options;return!this.disabled&&!Re(n)&&(e.aspectRatio=Math.max(0,n)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(n){var e=this.options,i=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var a=n===Ee,c=e.movable&&"move"===n;e.dragMode=n=a||c?n:"none",ae(i,re,n),Qt(i,Le,a),Qt(i,Me,c),e.cropBoxMovable||(ae(r,re,n),Qt(r,Le,a),Qt(r,Me,c))}return this}},nn=wt.Cropper,Vi=function(){function o(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function $t(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),!n||!Eo.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.options=et({},Di,qt(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function Kt(o,n,e){n&&de(o.prototype,n),e&&de(o,e),Object.defineProperty(o,"prototype",{writable:!1})}(o,[{key:"init",value:function(){var r,e=this.element,i=e.tagName.toLowerCase();if(!e[tt]){if(e[tt]=this,"img"===i){if(this.isImg=!0,r=e.getAttribute("src")||"",this.originalUrl=r,!r)return;r=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(r=e.toDataURL());this.load(r)}}},{key:"load",value:function(e){var i=this;if(e){this.url=e,this.imageData={};var r=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer)return void this.clone();if(Lo.test(e))return void(Mo.test(e)?this.read(function Go(o){var n=o.replace(Vo,""),e=atob(n),i=new ArrayBuffer(e.length),r=new Uint8Array(i);return ot(r,function(a,c){r[c]=e.charCodeAt(c)}),i}(e)):this.clone());var c=new XMLHttpRequest,u=this.clone.bind(this);this.reloading=!0,this.xhr=c,c.onabort=u,c.onerror=u,c.ontimeout=u,c.onprogress=function(){c.getResponseHeader("content-type")!==Ui&&c.abort()},c.onload=function(){i.read(c.response)},c.onloadend=function(){i.reloading=!1,i.xhr=null},a.checkCrossOrigin&&qi(e)&&r.crossOrigin&&(e=Yi(e)),c.open("GET",e,!0),c.responseType="arraybuffer",c.withCredentials="use-credentials"===r.crossOrigin,c.send()}}},{key:"read",value:function(e){var i=this.options,r=this.imageData,a=function jo(o){var e,n=new DataView(o);try{var i,r,a;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var c=n.byteLength,u=2;u+1<c;){if(255===n.getUint8(u)&&225===n.getUint8(u+1)){r=u;break}u+=1}if(r){var w=r+10;if("Exif"===function Qo(o,n,e){var i="";e+=n;for(var r=n;r<e;r+=1)i+=Qi(o.getUint8(r));return i}(n,r+4,4)){var v=n.getUint16(w);if(((i=18761===v)||19789===v)&&42===n.getUint16(w+2,i)){var y=n.getUint32(w+4,i);y>=8&&(a=w+y)}}}if(a){var H,V,C=n.getUint16(a,i);for(V=0;V<C;V+=1)if(274===n.getUint16(H=a+12*V+2,i)){e=n.getUint16(H+=8,i),n.setUint16(H,1,i);break}}}catch{e=1}return e}(e),c=0,u=1,A=1;if(a>1){this.url=function Ho(o,n){for(var e=[],r=new Uint8Array(o);r.length>0;)e.push(Qi.apply(null,Bi(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(n,";base64,").concat(btoa(e.join("")))}(e,Ui);var w=function Wo(o){var n=0,e=1,i=1;switch(o){case 2:e=-1;break;case 3:n=-180;break;case 4:i=-1;break;case 5:n=90,i=-1;break;case 6:n=90;break;case 7:n=90,e=-1;break;case 8:n=-90}return{rotate:n,scaleX:e,scaleY:i}}(a);c=w.rotate,u=w.scaleX,A=w.scaleY}i.rotatable&&(r.rotate=c),i.scalable&&(r.scaleX=u,r.scaleY=A),this.clone()}},{key:"clone",value:function(){var e=this.element,i=this.url,r=e.crossOrigin,a=i;this.options.checkCrossOrigin&&qi(i)&&(r||(r="anonymous"),a=Yi(i)),this.crossOrigin=r,this.crossOriginUrl=a;var c=document.createElement("img");r&&(c.crossOrigin=r),c.src=a||i,c.alt=e.alt||"The image to crop",this.image=c,c.onload=this.start.bind(this),c.onerror=this.stop.bind(this),st(c,Ti),e.parentNode.insertBefore(c,e.nextSibling)}},{key:"start",value:function(){var e=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var r=wt.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(wt.navigator.userAgent),a=function(w,v){et(e.imageData,{naturalWidth:w,naturalHeight:v,aspectRatio:w/v}),e.initialImageData=et({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!i.naturalWidth||r){var c=document.createElement("img"),u=document.body||document.documentElement;this.sizingImage=c,c.onload=function(){a(c.width,c.height),r||u.removeChild(c)},c.src=i.src,r||(c.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",u.appendChild(c))}else a(i.naturalWidth,i.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,i=this.options,r=this.image,a=e.parentNode,c=document.createElement("div");c.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var u=c.querySelector(".".concat(tt,"-container")),A=u.querySelector(".".concat(tt,"-canvas")),w=u.querySelector(".".concat(tt,"-drag-box")),v=u.querySelector(".".concat(tt,"-crop-box")),y=v.querySelector(".".concat(tt,"-face"));this.container=a,this.cropper=u,this.canvas=A,this.dragBox=w,this.cropBox=v,this.viewBox=u.querySelector(".".concat(tt,"-view-box")),this.face=y,A.appendChild(r),st(e,lt),a.insertBefore(u,e.nextSibling),yt(r,Ti),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,st(v,lt),i.guides||st(v.getElementsByClassName("".concat(tt,"-dashed")),lt),i.center||st(v.getElementsByClassName("".concat(tt,"-center")),lt),i.background&&st(u,"".concat(tt,"-bg")),i.highlight||st(y,Co),i.cropBoxMovable&&(st(y,Me),ae(y,re,"all")),i.cropBoxResizable||(st(v.getElementsByClassName("".concat(tt,"-line")),lt),st(v.getElementsByClassName("".concat(tt,"-point")),lt)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),ut(i.ready)&&ft(e,"ready",i.ready,{once:!0}),Vt(e,"ready")}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),yt(this.element,lt)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=nn,o}},{key:"setDefaults",value:function(e){et(Di,qt(e)&&e)}}]),o}();et(Vi.prototype,Xo,$o,Ko,tn,en,on);var Fe=p(28251),rn=p(6593);const an=["qrcElement"];let sn=(()=>{class o{constructor(e,i){this.renderer=e,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.vpe,this.context=null}ngOnChanges(){var e=this;return(0,d.Z)(function*(){yield e.createQRCode()})()}isValidQrCodeText(e){return!1===this.allowEmptyString?!(typeof e>"u"||""===e||"null"===e||null===e):!(typeof e>"u")}toDataURL(e){return new Promise((i,r)=>{(0,Fe.hz)(this.qrdata,e,(a,c)=>{a?r(a):i(c)})})}toCanvas(e,i){return new Promise((r,a)=>{(0,Fe.rT)(e,this.qrdata,i,c=>{c?a(c):r("success")})})}toSVG(e){return new Promise((i,r)=>{(0,Fe.toString)(this.qrdata,e,(a,c)=>{a?r(a):i(c)})})}renderElement(e){for(const i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){var e=this;return(0,d.Z)(function*(){e.version&&e.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),e.version=40):e.version&&e.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),e.version=1):void 0!==e.version&&isNaN(e.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),e.version=void 0);try{if(!e.isValidQrCodeText(e.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");e.isValidQrCodeText(e.qrdata)&&""===e.qrdata&&(e.qrdata=" ");const i={color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},r=e.imageSrc,a=e.imageHeight||40,c=e.imageWidth||40;switch(e.elementType){case"canvas":{const u=e.renderer.createElement("canvas");e.context=u.getContext("2d"),e.toCanvas(u,i).then(()=>{if(e.ariaLabel&&e.renderer.setAttribute(u,"aria-label",`${e.ariaLabel}`),e.title&&e.renderer.setAttribute(u,"title",`${e.title}`),r&&e.context){e.centerImage=new Image(c,a),r!==e.centerImage.src&&(e.centerImage.src=r),a!==e.centerImage.height&&(e.centerImage.height=a),c!==e.centerImage.width&&(e.centerImage.width=c);const A=e.centerImage;A&&(A.onload=()=>{e.context?.drawImage(A,u.width/2-c/2,u.height/2-a/2,c,a)})}e.renderElement(u),e.emitQRCodeURL(u)}).catch(A=>{console.error("[angularx-qrcode] canvas error:",A)});break}case"svg":{const u=e.renderer.createElement("div");e.toSVG(i).then(A=>{e.renderer.setProperty(u,"innerHTML",A);const w=u.firstChild;e.renderer.setAttribute(w,"height",`${e.width}`),e.renderer.setAttribute(w,"width",`${e.width}`),e.renderElement(w),e.emitQRCodeURL(w)}).catch(A=>{console.error("[angularx-qrcode] svg error:",A)});break}default:{const u=e.renderer.createElement("img");e.toDataURL(i).then(A=>{e.alt&&u.setAttribute("alt",e.alt),e.ariaLabel&&u.setAttribute("aria-label",e.ariaLabel),u.setAttribute("src",A),e.title&&u.setAttribute("title",e.title),e.renderElement(u),e.emitQRCodeURL(u)}).catch(A=>{console.error("[angularx-qrcode] img/url error:",A)})}}}catch(i){console.error("[angularx-qrcode] Error generating QR Code:",i.message)}})()}emitQRCodeURL(e){const i=e.constructor.name;if(i===SVGSVGElement.name){const c=new Blob([e.outerHTML],{type:"image/svg+xml"}),u=URL.createObjectURL(c),A=this.sanitizer.bypassSecurityTrustUrl(u);return void this.qrCodeURL.emit(A)}let r="";i===HTMLCanvasElement.name&&(r=e.toDataURL("image/png")),i===HTMLImageElement.name&&(r=e.src),fetch(r).then(a=>a.blob()).then(a=>URL.createObjectURL(a)).then(a=>this.sanitizer.bypassSecurityTrustUrl(a)).then(a=>{this.qrCodeURL.emit(a)}).catch(a=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+a)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.Qsj),t.Y36(rn.H7))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["qrcode"]],viewQuery:function(i,r){if(1&i&&t.Gf(an,7),2&i){let a;t.iGM(a=t.CRH())&&(r.qrcElement=a.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,r){1&i&&t._UZ(0,"div",null,0),2&i&&t.Tol(r.cssClass)},encapsulation:2,changeDetection:0})}return o})(),cn=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#i=this.\u0275inj=t.cJS({})}return o})();function ln(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AbpAccount::YourEmailAddressIsSuccessfullyConfirmed")," "))}function un(o,n){1&o&&(t.TgZ(0,"p",3),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AbpUi::ValidationErrorMessage")," "))}const pn=()=>["/account/login"];function dn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"form",2),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSubmit())}),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t._UZ(6,"input",5),t.TgZ(7,"label",6),t._uU(8),t.ALo(9,"abpLocalization"),t.qZA()(),t.TgZ(10,"div",7)(11,"a",8),t._UZ(12,"i",9),t._uU(13),t.ALo(14,"abpLocalization"),t.qZA(),t.TgZ(15,"abp-button",10),t._UZ(16,"i",11),t._uU(17),t.ALo(18,"abpLocalization"),t.qZA()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(2),t.Oqu(t.lcZ(3,6,"AbpAccount::SendPasswordResetLink_Information")),t.xp6(6),t.Oqu(t.lcZ(9,8,"AbpAccount::EmailAddress")),t.xp6(5),t.hij(" ",t.lcZ(14,10,"AbpAccount::Login")," "),t.xp6(2),t.Q6J("loading",e.inProgress),t.xp6(2),t.hij(" ",t.lcZ(18,12,"AbpAccount::Submit")," ")}}function hn(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA(),t.TgZ(3,"a",12)(4,"button",13),t._UZ(5,"i",14),t._uU(6),t.ALo(7,"abpLocalization"),t.qZA()()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AbpAccount::PasswordResetMailSentMessage")," "),t.xp6(5),t.hij(" ",t.lcZ(7,4,"AbpAccount::BackToLogin")," "))}const Gi=["recaptcha"];function fn(o,n){1&o&&(t._UZ(0,"div",21),t.ALo(1,"abpLocalization")),2&o&&t.Q6J("innerHTML",t.xi3(1,1,"AbpAccount::LinkAccountWarning","/account/login"),t.oJD)}function gn(o,n){1&o&&(t.TgZ(0,"h5",22),t._uU(1),t.ALo(2,"abpLocalization"),t.TgZ(3,"a",23),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA()()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AbpAccount::NotAMemberYet")," "),t.xp6(3),t.hij(" ",t.lcZ(5,4,"AbpAccount::Register")," "))}const mn=o=>({active:o});function bn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"li",11),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.selected=r)}),t.TgZ(1,"a",12),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA()()}if(2&o){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(4,mn,(null==i.selected?null:i.selected.name)===e.name)),t.xp6(1),t.hij(" ",t.lcZ(3,2,e.name)," ")}}function vn(o,n){if(1&o&&(t.ynx(0),t.YNc(1,bn,4,6,"li",10),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("abpPermission",e.requiredPolicy)}}function wn(o,n){1&o&&t.GkF(0)}function yn(o,n){if(1&o&&(t.TgZ(0,"div",13)(1,"div",14)(2,"h2"),t._uU(3),t.ALo(4,"abpLocalization"),t.qZA(),t._UZ(5,"hr",15),t.YNc(6,wn,1,0,"ng-container",16),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("@fadeIn",void 0)("id",e.selected.name+"-tab"),t.xp6(2),t.Oqu(t.lcZ(4,4,e.selected.name)),t.xp6(3),t.Q6J("ngComponentOutlet",e.selected.component)}}function An(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",5)(2,"ul",6),t.YNc(3,vn,2,1,"ng-container",7),t.qZA()(),t.TgZ(4,"div",8),t.YNc(5,yn,7,6,"div",9),t.qZA(),t.BQk()),2&o){const e=n.ngIf,i=t.oxw();t.xp6(3),t.Q6J("ngForOf",e)("ngForTrackBy",i.track.by("name")),t.xp6(2),t.Q6J("ngIf",i.isProfileLoaded&&e.length&&i.selected)}}function _n(o,n){1&o&&t._UZ(0,"div",17),2&o&&t.Q6J("abpLoading",!0)}const Cn=()=>({standalone:!0});function Tn(o,n){if(1&o&&(t.TgZ(0,"div",20),t._uU(1),t.ALo(2,"abpLocalization"),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,4,"AbpAccount::Strength"),"\xa0 "),t.xp6(2),t.Udp("color",null==e.progressBar?null:e.progressBar.bgColor),t.xp6(1),t.Oqu(t.lcZ(5,6,"AbpAccount::"+(null==e.progressBar?null:e.progressBar.text)))}}function Sn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSubmit())}),t.TgZ(1,"div",4),t._UZ(2,"input",5),t.TgZ(3,"label",6),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA()(),t.TgZ(6,"div",4),t._UZ(7,"input",7),t.TgZ(8,"label",8),t._uU(9),t.ALo(10,"abpLocalization"),t.qZA()(),t.TgZ(11,"div",9)(12,"input",10),t.NdJ("abpCapsLock",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.capsLock=r)})("keyup",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.validatePassword())}),t.qZA(),t._UZ(13,"abp-password-complexity-indicator",11),t.YNc(14,Tn,6,8,"div",12),t.TgZ(15,"label",13),t._uU(16),t.ALo(17,"abpLocalization"),t.qZA(),t._UZ(18,"i",14),t.ALo(19,"abpLocalization"),t.TgZ(20,"i",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.showPassword=!r.showPassword)}),t.ALo(21,"abpLocalization"),t.qZA()(),t._UZ(22,"div",null,16),t.TgZ(24,"div",17)(25,"div",18)(26,"abp-button",19),t._uU(27),t.ALo(28,"abpLocalization"),t.qZA()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(4),t.hij(" ",t.lcZ(5,16,"AbpAccount::UserName")," "),t.xp6(5),t.hij(" ",t.lcZ(10,18,"AbpAccount::EmailAddress")," "),t.xp6(3),t.Q6J("abpShowPassword",e.showPassword),t.xp6(1),t.Q6J("progressBar",e.progressBar),t.xp6(1),t.Q6J("ngIf",(null==e.progressBar?null:e.progressBar.width)>0),t.xp6(2),t.hij(" ",t.lcZ(17,20,"AbpAccount::Password")," "),t.xp6(2),t.ekj("d-none",!e.capsLock),t.Q6J("ngbTooltip",t.lcZ(19,22,"AbpAccount::CapsLockOn")),t.xp6(2),t.Gre("bi bi-eye",e.showPassword?"":"-slash"," show-pass-icon"),t.Q6J("ngbTooltip",t.lcZ(21,24,"AbpAccount::"+(e.showPassword?"HidePassword":"ShowPassword"))),t.xp6(6),t.Q6J("loading",e.inProgress),t.xp6(1),t.hij(" ",t.lcZ(28,26,"AbpAccount::Register")," ")}}function xn(o,n){if(1&o&&(t.TgZ(0,"div",13),t._uU(1),t.ALo(2,"abpLocalization"),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,4,"AbpAccount::Strength"),"\xa0 "),t.xp6(2),t.Udp("color",null==e.progressBar?null:e.progressBar.bgColor),t.xp6(1),t.Oqu(t.lcZ(5,6,"AbpAccount::"+(null==e.progressBar?null:e.progressBar.text)))}}function Pn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"form",2),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSubmit())}),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA(),t.TgZ(4,"div",3)(5,"label",4),t._uU(6),t.ALo(7,"abpLocalization"),t.TgZ(8,"span"),t._uU(9," * "),t.qZA()(),t.TgZ(10,"input",5),t.NdJ("keyup",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.validatePassword())}),t.qZA(),t._UZ(11,"abp-password-complexity-indicator",6),t.YNc(12,xn,6,8,"div",7),t.qZA(),t.TgZ(13,"div",8)(14,"label",9),t._uU(15),t.ALo(16,"abpLocalization"),t.qZA(),t.TgZ(17,"span"),t._uU(18," * "),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"button",11),t._uU(21),t.ALo(22,"abpLocalization"),t.qZA(),t.TgZ(23,"abp-button",12),t._uU(24),t.ALo(25,"abpLocalization"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form)("mapErrorsFn",e.mapErrorsFn),t.xp6(2),t.Oqu(t.lcZ(3,10,"AbpAccount::ResetPassword_Information")),t.xp6(4),t.hij(" ",t.lcZ(7,12,"AbpAccount::Password")," "),t.xp6(5),t.Q6J("progressBar",e.progressBar),t.xp6(1),t.Q6J("ngIf",(null==e.progressBar?null:e.progressBar.width)>0),t.xp6(3),t.Oqu(t.lcZ(16,14,"AbpAccount::ConfirmPassword")),t.xp6(6),t.hij(" ",t.lcZ(22,16,"AbpAccount::Cancel")," "),t.xp6(2),t.Q6J("loading",e.inProgress),t.xp6(1),t.hij(" ",t.lcZ(25,18,"AbpAccount::Submit")," ")}}function Ln(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA(),t.TgZ(3,"a",14)(4,"button",15),t._uU(5),t.ALo(6,"abpLocalization"),t.qZA()()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AbpAccount::YourPasswordIsSuccessfullyReset")," "),t.xp6(4),t.hij(" ",t.lcZ(6,4,"AbpAccount::BackToLogin")," "))}function Mn(o,n){if(1&o&&(t.TgZ(0,"option",7),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.Oqu(e)}}function En(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"form")(1,"p"),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA(),t.TgZ(4,"div",2)(5,"label",3),t._uU(6),t.ALo(7,"abpLocalization"),t.qZA(),t.TgZ(8,"select",4),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.selectedProvider=r)}),t.YNc(9,Mn,2,2,"option",5),t.qZA()(),t.TgZ(10,"abp-button",6),t.NdJ("abpClick",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.sendTwoFactorCode())}),t._uU(11),t.ALo(12,"abpLocalization"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,6,"AbpAccount::SendSecurityCode_Information")),t.xp6(4),t.Oqu(t.lcZ(7,8,"AbpAccount::SelectedProvider")),t.xp6(2),t.Q6J("ngModel",e.selectedProvider),t.xp6(1),t.Q6J("ngForOf",e.providers),t.xp6(1),t.Q6J("loading",e.loading),t.xp6(1),t.hij(" ",t.lcZ(12,10,"AbpAccount::Submit")," ")}}const Nn=()=>["/account/login-with-recovery-code"];function Zn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"form",8),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.login())}),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA(),t.TgZ(4,"div",2)(5,"label",9),t._uU(6),t.ALo(7,"abpLocalization"),t.qZA(),t._UZ(8,"input",10),t.qZA(),t.TgZ(9,"abp-button",11),t._uU(10),t.ALo(11,"abpLocalization"),t.qZA()(),t.TgZ(12,"div",12)(13,"p")(14,"a",13),t._uU(15),t.ALo(16,"abpLocalization"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.codeForm),t.xp6(2),t.Oqu(t.lcZ(3,7,"AbpAccount::VerifySecurityCode_Information")),t.xp6(4),t.Oqu(t.lcZ(7,9,"AbpAccount::Code")),t.xp6(3),t.Q6J("loading",e.loading),t.xp6(1),t.hij(" ",t.lcZ(11,11,"AbpAccount::Submit")," "),t.xp6(4),t.Q6J("routerLink",t.DdM(15,Nn)),t.xp6(1),t.hij(" ",t.lcZ(16,13,"AbpAccount::LoginWithRecoveryCode_URL"),". ")}}const Gt=(o,n)=>({"fa-eye-slash":o,"fa-eye":n});function In(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",10)(1,"label",14),t._uU(2),t.ALo(3,"abpLocalization"),t.TgZ(4,"span"),t._uU(5," * "),t.qZA()(),t.TgZ(6,"div",4),t._UZ(7,"input",15),t.TgZ(8,"button",6),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.showCurrentPassword=!r.showCurrentPassword)}),t._UZ(9,"i",7),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"AbpIdentity::DisplayName:CurrentPassword")," "),t.xp6(5),t.Q6J("abpShowPassword",e.showCurrentPassword),t.xp6(2),t.Q6J("ngClass",t.WLB(5,Gt,!e.showCurrentPassword,e.showCurrentPassword))}}function Un(o,n){if(1&o&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"abpLocalization"),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,4,"AbpAccount::Strength"),"\xa0 "),t.xp6(2),t.Udp("color",null==e.progressBar?null:e.progressBar.bgColor),t.xp6(1),t.Oqu(t.lcZ(5,6,"AbpAccount::"+(null==e.progressBar?null:e.progressBar.text)))}}function On(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.submit())}),t._UZ(1,"abp-extensible-form",2),t.TgZ(2,"abp-button",3),t._uU(3),t.ALo(4,"abpLocalization"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("selectedRecord",e.storedProfile),t.xp6(1),t.Q6J("disabled",null==e.form?null:e.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(4,4,"AbpIdentity::Save"),"")}}const Rn=["uploadFile"],Dn=["selectedImgRef"],kn=["preview"];function Bn(o,n){if(1&o&&(t.TgZ(0,"div",20),t._UZ(1,"img",21,22),t.qZA(),t.TgZ(3,"div",23),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA(),t.TgZ(6,"div",24)(7,"ul",25)(8,"li",26),t._UZ(9,"img",27,28),t.qZA(),t.TgZ(11,"li",29),t._UZ(12,"img",30,28),t.qZA(),t.TgZ(14,"li",31),t._UZ(15,"img",32,28),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.selectedImage,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(5,2,"AbpAccount::MoveCursorOnExamples")," ")}}function Fn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",1)(2,"h3"),t._uU(3),t.ALo(4,"abpLocalization"),t.qZA(),t.TgZ(5,"div",2)(6,"label",17),t._uU(7),t.ALo(8,"abpLocalization"),t.qZA(),t.TgZ(9,"input",18,19),t.NdJ("change",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onSelectImage(r.target.files[0]))}),t.qZA()(),t.YNc(11,Bn,17,4),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,3,"AbpAccount::ChangeProfilePicture")),t.xp6(4),t.Oqu(t.lcZ(8,5,"AbpAccount::SelectNewImage")),t.xp6(4),t.um2(11,e.selectedImage?11:-1)}}function zn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA(),t._UZ(6,"br")(7,"img",4),t.ALo(8,"async"),t.qZA()()(),t._UZ(9,"hr"),t.TgZ(10,"div",0)(11,"div",1)(12,"div",5)(13,"input",6),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.profilePictureType=r)}),t.qZA(),t.TgZ(14,"label",7),t._uU(15),t.ALo(16,"abpLocalization"),t.qZA()(),t.TgZ(17,"div",5)(18,"input",8),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.profilePictureType=r)}),t.qZA(),t.TgZ(19,"label",9),t._uU(20),t.ALo(21,"abpLocalization"),t.qZA(),t.TgZ(22,"small",10),t._uU(23),t.ALo(24,"abpLocalization"),t.qZA()(),t.TgZ(25,"div",5)(26,"input",11),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.profilePictureType=r)}),t.qZA(),t.TgZ(27,"label",12),t._uU(28),t.ALo(29,"abpLocalization"),t.qZA()()()(),t.YNc(30,Fn,12,7,"div",13),t.TgZ(31,"div",14)(32,"div",1)(33,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.submit())}),t._uU(34),t.ALo(35,"abpLocalization"),t.qZA()()()}if(2&o){const e=t.oxw();let i;t.xp6(4),t.Oqu(t.lcZ(5,15,"AbpAccount::CurrentProfilePicture")),t.xp6(3),t.Q6J("src",null==(i=t.lcZ(8,17,e.profilePicture$))?null:i.source,t.LSH),t.xp6(6),t.Q6J("value",0)("ngModel",e.profilePictureType),t.xp6(2),t.Oqu(t.lcZ(16,19,"AbpAccount::UseDefault")),t.xp6(3),t.Q6J("value",1)("ngModel",e.profilePictureType),t.xp6(2),t.Oqu(t.lcZ(21,21,"AbpAccount::DisplayName:UseGravatar")),t.xp6(3),t.Oqu(t.lcZ(24,23,"AbpAccount::Description:UseGravatar")),t.xp6(3),t.Q6J("value",2)("ngModel",e.profilePictureType),t.xp6(2),t.Oqu(t.lcZ(29,25,"AbpAccount::UploadFile")),t.xp6(2),t.um2(30,2===e.profilePictureType?30:-1),t.xp6(3),t.Q6J("disabled",e.inProgress||2===e.profilePictureType&&!e.selectedImage),t.xp6(1),t.hij(" ",t.lcZ(35,27,"AbpAccount::SaveChanges")," ")}}function Jn(o,n){if(1&o&&t._UZ(0,"div",33),2&o){const e=t.oxw();t.Q6J("abpLoading",!e.profileLoaded)}}function qn(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"form",2)(2,"div",3),t._UZ(3,"input",4),t.TgZ(4,"label",5),t._uU(5),t.ALo(6,"abpLocalization"),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"span",6),t._uU(9),t.ALo(10,"abpLocalization"),t.qZA()()(),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(4),t.hij(" ",t.lcZ(6,3,"AbpAccount::DisplayName:TwoFactorEnabled")," "),t.xp6(4),t.Oqu(t.lcZ(10,5,"AbpAccount::TwoFactorEnabledInfo"))}}function Yn(o,n){1&o&&t._UZ(0,"div",7),2&o&&t.Q6J("abpLoading",!0)}function Qn(o,n){if(1&o&&(t.TgZ(0,"span",4),t._UZ(1,"i",5),t.TgZ(2,"span",6),t._uU(3),t.ALo(4,"abpLocalization"),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,1,e.verifiedLabel||"AbpAccount::Verified"))}}function Vn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onBtnClick())}),t._UZ(1,"i",8),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,1,e.buttonLabel||"AbpAccount::Verify")," ")}}function Gn(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Qn,5,3,"span",2)(2,Vn,4,3,"ng-template",null,3,t.W1O),t.BQk()),2&o){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.verified)("ngIfElse",e)}}function Hn(o,n){if(1&o&&(t.TgZ(0,"span",9),t.ALo(1,"abpLocalization"),t._UZ(2,"i",10),t.TgZ(3,"span",11),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA()()),2&o){const e=t.oxw();t.Q6J("ngbTooltip",t.lcZ(1,2,e.editedTooltip||"AbpAccount::FirstlySubmitToVerify")),t.xp6(4),t.hij(" ",t.lcZ(5,4,e.editedLabel||"AbpAccount::NotVerified")," ")}}function jn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",9)(1,"abp-personal-settings-verify-button",10),t.NdJ("btnClick",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.initPhoneNumberConfirmation())}),t.ALo(2,"async"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("verified",e.isVerified)("edited",t.lcZ(2,2,e.isValueChanged$))}}function Wn(o,n){1&o&&(t.TgZ(0,"h5"),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AbpAccount::Verify")))}function Xn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"form",11),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.confirmPhoneNumber())}),t.TgZ(1,"div",12)(2,"p"),t._uU(3),t.ALo(4,"abpLocalization"),t.qZA(),t.TgZ(5,"div",0)(6,"label",13),t._uU(7),t.ALo(8,"abpLocalization"),t.qZA(),t.TgZ(9,"input",14),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.token=r)}),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(3),t.hij(" ",t.xi3(4,3,"AbpAccount::ConfirmationTokenSentMessage",e.formControl.value)," "),t.xp6(4),t.Oqu(t.lcZ(8,6,"AbpAccount::PhoneConfirmationToken")),t.xp6(2),t.Q6J("ngModel",e.token)}}function $n(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",15),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA(),t.TgZ(3,"abp-button",16),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.confirmPhoneNumber())}),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AbpAccount::Cancel")," "),t.xp6(3),t.hij(" ",t.lcZ(5,4,"AbpAccount::Save")," "))}const Kn=()=>({size:"sm"});function tr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",5)(1,"abp-personal-settings-verify-button",6),t.NdJ("btnClick",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.sendEmailVerificationToken())}),t.ALo(2,"async"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("verified",e.isVerified)("edited",t.lcZ(2,2,e.isValueChanged$))}}function er(o,n){if(1&o&&(t.TgZ(0,"option",6),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("ngValue",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function ir(o,n){if(1&o&&(t.ynx(0),t.YNc(1,er,2,2,"option",5),t.BQk()),2&o){const e=n.ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",i.track.by("value"))}}function or(o,n){if(1&o&&(t.TgZ(0,"div",15),t._uU(1),t.ALo(2,"abpLocalization"),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,4,"AbpAccount::Strength"),"\xa0 "),t.xp6(2),t.Udp("color",null==e.progressBar?null:e.progressBar.bgColor),t.xp6(1),t.Oqu(t.lcZ(5,6,"AbpAccount::"+(null==e.progressBar?null:e.progressBar.text)))}}function nr(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"qrcode",2),t.BQk()),2&o){const e=n.ngIf,i=t.oxw();t.xp6(1),t.Q6J("qrdata",e)("width",i.width||256)("errorCorrectionLevel",i.errorCorrectionLevel||"M")}}function rr(o,n){1&o&&(t.TgZ(0,"div",3),t._UZ(1,"i",4),t.qZA())}function ar(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",20)(3,"div",21)(4,"h5"),t._uU(5),t.ALo(6,"abpLocalization"),t.qZA(),t.TgZ(7,"div",22),t._UZ(8,"abp-qr-code",23),t.qZA()()()(),t.TgZ(9,"div",24)(10,"div",25)(11,"span",26),t._uU(12,"Or"),t.qZA()()(),t.TgZ(13,"div",19)(14,"div",20)(15,"div",21)(16,"h5"),t._uU(17),t.ALo(18,"abpLocalization"),t.qZA(),t.TgZ(19,"div",27)(20,"code",28),t._uU(21),t.qZA()(),t.TgZ(22,"button",29),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.copySharedKey())}),t._uU(23),t.ALo(24,"abpLocalization"),t.qZA()()()(),t.BQk()}if(2&o){const e=n.ngIf;t.xp6(5),t.Oqu(t.lcZ(6,5,"AbpAccount::UseQrCode")),t.xp6(3),t.Q6J("qrData",e.uri),t.xp6(9),t.Oqu(t.lcZ(18,7,"AbpAccount::ManuallyEnterCode")),t.xp6(4),t.Oqu(e.key),t.xp6(2),t.hij(" ",t.lcZ(24,9,"AbpAccount::CopyToClipboard")," ")}}function sr(o,n){1&o&&t.GkF(0)}const cr=()=>({$implicit:"VerifyTheAuthenticator"});function lr(o,n){if(1&o&&(t.TgZ(0,"div",12)(1,"h4",13),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA(),t.TgZ(4,"p",14),t._uU(5),t.ALo(6,"abpLocalization"),t.qZA(),t.TgZ(7,"div",15)(8,"div",16),t.YNc(9,ar,25,11,"ng-container",0),t.qZA(),t.TgZ(10,"div",17),t.YNc(11,sr,1,0,"ng-container",18),t.qZA()()()),2&o){const e=t.oxw(2),i=t.MAs(3);t.xp6(2),t.Oqu(t.lcZ(3,5,"AbpAccount::Authenticator")),t.xp6(3),t.hij(" ",t.lcZ(6,7,"AbpAccount::UseTwoFactorAuthenticatorApp_Information")," "),t.xp6(4),t.Q6J("ngIf",e.authenticatorInfo()),t.xp6(2),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(9,cr))}}function ur(o,n){1&o&&t.GkF(0)}const pr=o=>({$implicit:"RecoveryCodes",disabled:o});function dr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",30)(1,"h4",13),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA(),t.TgZ(4,"p",14),t._uU(5),t.ALo(6,"abpLocalization"),t.qZA(),t.TgZ(7,"div",31)(8,"div",19)(9,"abp-form-input",32),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.verifyCode=r)}),t.ALo(10,"abpLocalization"),t.qZA()(),t.TgZ(11,"div",19)(12,"abp-button",33),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.verifyQrCode())}),t._uU(13),t.ALo(14,"abpLocalization"),t.qZA()()(),t.TgZ(15,"div",17),t.YNc(16,ur,1,0,"ng-container",18),t.qZA()()}if(2&o){const e=t.oxw(2),i=t.MAs(3);t.xp6(2),t.hij(" ",t.lcZ(3,10,"AbpAccount::VerifyTheAuthenticator")," "),t.xp6(3),t.hij(" ",t.lcZ(6,12,"AbpAccount::UseTwoFactorAuthenticatorApp_Code")," "),t.xp6(4),t.Q6J("inputId","code")("ngModel",e.verifyCode)("label",t.lcZ(10,14,"AbpAccount::Code")),t.xp6(3),t.Q6J("id","verifyQRCode")("buttonClass","btn btn-outline-success mt-3"),t.xp6(1),t.hij(" ",e.isVerifiedAuthenticatorCode()?"Verified":t.lcZ(14,16,"AbpAccount::Verify")," "),t.xp6(3),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(18,pr,!e.isVerifiedAuthenticatorCode()))}}function hr(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"code"),t._uU(2),t.qZA(),t._UZ(3,"br"),t.BQk()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e)}}function fr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",34)(1,"h4",13),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA(),t.TgZ(4,"p",14),t._uU(5),t.ALo(6,"abpLocalization"),t.qZA(),t.TgZ(7,"ul",35)(8,"li",36)(9,"div",37)(10,"div",38)(11,"button",39),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.printRecoverCodes())}),t._uU(12),t.ALo(13,"abpLocalization"),t.qZA(),t.TgZ(14,"button",40),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.copyRecoveryCodes())}),t._uU(15),t.ALo(16,"abpLocalization"),t.qZA()(),t.TgZ(17,"div",41)(18,"div",42),t.YNc(19,hr,4,1,"ng-container",43),t.qZA()(),t.TgZ(20,"div",38)(21,"abp-button",44),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.recoveryCodeOk())}),t._uU(22),t.ALo(23,"abpLocalization"),t.qZA()()()()()()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,13,"AbpAccount::RecoveryCodes")),t.xp6(3),t.hij(" ",t.lcZ(6,15,"AbpAccount::RecoveryCodes_Information")," "),t.xp6(6),t.ekj("disabled",!e.hasRecoveryCodes()),t.xp6(1),t.hij(" ",t.lcZ(13,17,"AbpAccount::PrintCodes")," "),t.xp6(2),t.ekj("disabled",!e.hasRecoveryCodes()),t.xp6(1),t.hij(" ",t.lcZ(16,19,"AbpAccount::CopyToClipboard")," "),t.xp6(4),t.Q6J("ngForOf",e.recoveryCodeList()),t.xp6(2),t.Q6J("id","recoveryCodeOk")("disabled",!e.hasRecoveryCodes())("buttonClass","btn btn-primary mt-2"),t.xp6(1),t.hij(" ",t.lcZ(23,21,"AbpAccount::Done")," ")}}function gr(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"ul",2,3),t.NdJ("activeIdChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.activeStep=r)}),t.TgZ(3,"li",4)(4,"button",5)(5,"small",6),t._uU(6),t.ALo(7,"abpLocalization"),t.qZA(),t.TgZ(8,"p",7),t._uU(9),t.ALo(10,"abpLocalization"),t.qZA()(),t.YNc(11,lr,12,10,"ng-template",8),t.qZA(),t.TgZ(12,"li",4)(13,"button",5)(14,"small",6),t._uU(15),t.ALo(16,"abpLocalization"),t.qZA(),t.TgZ(17,"p",7),t._uU(18),t.ALo(19,"abpLocalization"),t.qZA()(),t.YNc(20,dr,17,20,"ng-template",8),t.qZA(),t.TgZ(21,"li",9)(22,"button",5)(23,"small",6),t._uU(24),t.ALo(25,"abpLocalization"),t.qZA(),t.TgZ(26,"p",7),t._uU(27),t.ALo(28,"abpLocalization"),t.qZA()(),t.YNc(29,fr,24,23,"ng-template",8),t.qZA()(),t.TgZ(30,"div",10),t._UZ(31,"div",11),t.qZA(),t.BQk()}if(2&o){const e=t.MAs(2),i=t.oxw();t.xp6(1),t.Q6J("activeId",i.activeStep),t.xp6(2),t.Q6J("ngbNavItem","Authenticator"),t.xp6(3),t.Oqu(t.xi3(7,14,"AbpAccount::Step","1")),t.xp6(3),t.Oqu(t.lcZ(10,17,"AbpAccount::Authenticator")),t.xp6(3),t.Q6J("ngbNavItem","VerifyTheAuthenticator"),t.xp6(3),t.Oqu(t.xi3(16,19,"AbpAccount::Step","2")),t.xp6(3),t.Oqu(t.lcZ(19,22,"AbpAccount::VerifyTheAuthenticator")),t.xp6(3),t.Q6J("ngbNavItem","RecoveryCodes")("classList","recovery-codes-tab")("disabled",!i.isVerifiedAuthenticatorCode()),t.xp6(3),t.Oqu(t.xi3(25,24,"AbpAccount::Step","3")),t.xp6(3),t.Oqu(t.lcZ(28,27,"AbpAccount::RecoveryCodes")),t.xp6(3),t.Q6J("id",i.activeStep),t.xp6(1),t.Q6J("ngbNavOutlet",e)}}function mr(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",45)(2,"div",46)(3,"h4",13),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA(),t.TgZ(6,"p",14),t._uU(7),t.ALo(8,"abpLocalization"),t.qZA(),t.TgZ(9,"abp-button",47),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.resetAuthenticator())}),t._uU(10),t.ALo(11,"abpLocalization"),t.qZA()()(),t.BQk()}2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,3,"AbpAccount::ResetAuthenticator")),t.xp6(3),t.Oqu(t.lcZ(8,5,"AbpAccount::ResetAuthenticator_Information")),t.xp6(3),t.hij(" ",t.lcZ(11,7,"AbpAccount::ResetAuthenticator")," "))}function br(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.activeStep=a)}),t._uU(1),t.ALo(2,"abpLocalization"),t._UZ(3,"i",49),t.qZA()}if(2&o){const e=n.$implicit;t.ekj("disabled",n.disabled),t.MGl("id","next-btn-",e,""),t.xp6(1),t.hij(" ",t.lcZ(2,4,"AbpAccount::NextStep")," ")}}class Hi{encodeKey(n){return encodeURIComponent(n)}encodeValue(n){return encodeURIComponent(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}let At=(()=>{class o{getMySecurityLogsByInput(e={}){return this.restService.request({url:"/api/identity/security-logs/my",method:"GET",params:e},{apiName:this.apiName})}constructor(e){this.restService=e,this.apiName="AbpAccountPublic",this.confirmEmail=i=>this.restService.request({method:"POST",url:"/api/account/confirm-email",body:i},{apiName:this.apiName}),this.confirmPhoneNumber=i=>this.restService.request({method:"POST",url:"/api/account/confirm-phone-number",body:i},{apiName:this.apiName}),this.getProfilePicture=i=>this.restService.request({method:"GET",url:`/api/account/profile-picture/${i}`},{apiName:this.apiName}),this.getProfilePictureFile=i=>this.restService.request({method:"GET",url:`/api/account/profile-picture-file/${i}`},{apiName:this.apiName}),this.register=i=>this.restService.request({method:"POST",url:"/api/account/register",body:i},{apiName:this.apiName}),this.resetPassword=i=>this.restService.request({method:"POST",url:"/api/account/reset-password",body:i},{apiName:this.apiName}),this.sendEmailConfirmationToken=i=>this.restService.request({method:"POST",url:"/api/account/send-email-confirmation-token",body:i},{apiName:this.apiName}),this.sendPasswordResetCode=i=>this.restService.request({method:"POST",url:"/api/account/send-password-reset-code",body:i},{apiName:this.apiName}),this.sendPhoneNumberConfirmationToken=i=>this.restService.request({method:"POST",url:"/api/account/send-phone-number-confirmation-token",body:i},{apiName:this.apiName}),this.setProfilePicture=i=>this.restService.request({method:"POST",url:"/api/account/profile-picture",body:i},{apiName:this.apiName}),this.uploadProfilePictureFile=i=>this.restService.request({method:"POST",url:"/api/account/profile-picture-file"},{apiName:this.apiName}),this.recaptchaByCaptchaResponse=i=>this.restService.request({method:"GET",url:"/api/account/recaptcha-validate",params:{captchaResponse:i}},{apiName:this.apiName}),this.getTwoFactorProviders=i=>this.restService.request({url:"/api/account/two-factor-providers",method:"GET",params:i},{apiName:this.apiName,httpParamEncoder:new Hi}),this.sendTwoFactorCode=i=>this.restService.request({url:"/api/account/send-two-factor-code",method:"POST",body:i},{apiName:this.apiName})}static#t=this.\u0275fac=function(i){return new(i||o)(t.LFG(s.vgb))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),ze=(()=>{class o{constructor(e,i,r){this.multiTenancy=e,this.accountService=i,this.route=r,this.resetTenantBox=()=>{}}ngOnInit(){const{isTenantBoxVisible:e}=this.multiTenancy;this.resetTenantBox=()=>this.multiTenancy.isTenantBoxVisible=e,setTimeout(()=>this.multiTenancy.isTenantBoxVisible=!1,0),this.confirmation()}ngOnDestroy(){this.resetTenantBox()}confirmation(){const{userId:e,confirmationToken:i}=this.route.snapshot.queryParams;e&&i?this.accountService.confirmEmail({userId:e,token:i}).subscribe(()=>this.confirmed=!0):this.notValid=!0}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(s.ffM),t.Y36(At),t.Y36(T.gz))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-email-confirmation"]],decls:5,vars:7,consts:[[4,"ngIf"],["class","text-danger font-weight-bold",4,"ngIf"],["role","button",1,"btn","btn-primary",3,"routerLink"],[1,"text-danger","font-weight-bold"]],template:function(i,r){1&i&&(t.YNc(0,ln,3,3,"p",0)(1,un,3,3,"p",1),t.TgZ(2,"a",2),t._uU(3),t.ALo(4,"abpLocalization"),t.qZA()),2&i&&(t.Q6J("ngIf",r.confirmed),t.xp6(1),t.Q6J("ngIf",r.notValid),t.xp6(1),t.Q6J("routerLink",t.DdM(6,pn)),t.xp6(1),t.Oqu(t.lcZ(4,4,"AbpAccount::Login")))},dependencies:[x.O5,T.rH,s.fuE],encapsulation:2})}return o})();const{required:vr,email:wr}=g.Validators;let Je=(()=>{class o{constructor(e,i){this.fb=e,this.accountService=i,this.isEmailSent=!1,this.form=this.fb.group({email:["",[vr,wr]]})}onSubmit(){this.form.invalid||(this.inProgress=!0,this.accountService.sendPasswordResetCode({email:this.form.get("email").value,appName:"Angular"}).pipe((0,P.x)(()=>this.inProgress=!1)).subscribe(()=>{this.isEmailSent=!0}))}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(g.QS),t.Y36(At))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-forgot-password"]],decls:3,vars:2,consts:[["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["emailSentTemplate",""],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-floating","mb-3"],["autofocus","","type","email","id","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],[1,"d-flex","gap-2"],["routerLink","/account/login",1,"btn","btn-outline-primary","btn-lg","text-nowrap"],[1,"bi","bi-arrow-left-short"],["buttonClass","btn btn-primary btn-lg text-nowrap w-100","buttonType","submit",1,"flex-fill",3,"loading"],[1,"bi","bi-send","me-1"],["routerLink","/account/login",1,"d-grid"],[1,"d-block","mt-2","mb-3","btn","btn-primary"],["aria-hidden","true",1,"fa","fa-long-arrow-left","me-1"]],template:function(i,r){if(1&i&&t.YNc(0,dn,19,14,"form",0)(1,hn,8,6,"ng-template",null,1,t.W1O),2&i){const a=t.MAs(2);t.Q6J("ngIf",!r.isEmailSent)("ngIfElse",a)}},dependencies:[x.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,T.rH,s.Uqp,s.YzZ,b.hL,b.J5,l.r0,s.fuE],encapsulation:2})}return o})();const ve=new t.OlP("ACCOUNT_CONFIG_OPTIONS");function we(o){const n=o.get(T.gz),e=o.get(ve);return n.snapshot.queryParams.returnUrl||e.redirectUrl}let qe=(()=>{class o{get linkUser(){const{linkUserId:e,linkTenantId:i,linkUserName:r,linkTenantName:a}=this.route.snapshot.queryParams;return{linkUserId:e,linkTenantId:i,linkUserName:r,linkTenantName:a}}constructor(e,i,r,a){this.injector=e,this.router=i,this.route=r,this.identityLinkUserService=a,this.tenantAndUserName=""}ngOnInit(){this.init()}init(){const{linkUserId:e,linkTenantId:i,linkUserName:r,linkTenantName:a}=this.linkUser;e?(this.identityLinkUserService.isLinked({tenantId:i,userId:e}).subscribe(c=>{c||this.navigateToLogin()}),this.tenantAndUserName=i?`${a}\\${r}`:r):this.navigateToLogin()}navigateToLogin(){this.router.navigateByUrl("/account/login")}navigateToMainPage(e){this.router.navigate([we(this.injector)||"/"],{queryParams:e})}navigateToMainPageForLinkLogin(){const{linkUserId:e,linkTenantId:i}=this.linkUser;this.navigateToMainPage({handler:"linkLogin",linkUserId:e,linkTenantId:i})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.zs3),t.Y36(T.F0),t.Y36(T.gz),t.Y36(E.K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-link-logged"]],decls:11,vars:7,consts:[[1,"d-grid"],["type","button",1,"btn","btn-primary","mb-3",3,"click"],[1,"ms-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"me-1"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return r.navigateToMainPage()}),t._uU(2," \u2190 "),t.TgZ(3,"span",2),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA()(),t.TgZ(6,"button",3),t.NdJ("click",function(){return r.navigateToMainPageForLinkLogin()}),t.TgZ(7,"span",4),t._uU(8),t.ALo(9,"abpLocalization"),t.qZA(),t._uU(10," \u2192 "),t.qZA()()),2&i&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"AbpAccount::StayWithCurrentAccount")),t.xp6(4),t.Oqu(t.xi3(9,4,"AbpAccount::ReturnToPreviousAccount",r.tenantAndUserName)))},dependencies:[s.fuE],encapsulation:2})}return o})();class Ye{constructor(n,e){this.configState=n,this.targetElement=e}setIsEnabled(){this.isEnabled="true"===(this.configState.getSetting(this.settingKey)||"").toLowerCase()}}class ji extends Ye{constructor(n,e){super(n,e),this.action="login",this.settingKey="Abp.Account.Captcha.UseCaptchaOnLogin",this.setIsEnabled()}}class Wi extends Ye{constructor(n,e){super(n,e),this.action="register",this.settingKey="Abp.Account.Captcha.UseCaptchaOnRegistration",this.setIsEnabled()}}const Qe={Login:(o,n)=>new ji(o,n),Register:(o,n)=>new Wi(o,n)};class Ve{get cultureName(){return this.configState.getAll().localization.currentCulture.cultureName}get siteKey(){return this.configState.getSetting("Abp.Account.Captcha.SiteKey")}get verifyBaseUrl(){return this.configState.getSetting("Abp.Account.Captcha.VerifyBaseUrl")}constructor(n){this.injector=n,this.lazyLoadService=n.get(s.zD),this.configState=n.get(s.XJE),this.appendScript()}appendScript(){this.lazyLoadService.load(s.o10.AppendScriptToBody(this.scriptPath)).subscribe()}destroy(){this.scriptPath&&this.lazyLoadService.remove(this.scriptPath)}reset(){}}class Xi extends Ve{constructor(n,e){super(n),this.zone=this.injector.get(t.R0b),this.token=new it.X(null),this.targetElement=e}appendScript(){window.recaptchaV2Loaded=()=>{grecaptcha.render(this.targetElement,{sitekey:this.siteKey,"expired-callback":()=>{this.zone.run(()=>this.token.next(null))},callback:n=>this.token.next(n)})},this.scriptPath=`${this.verifyBaseUrl}recaptcha/api.js?render=explicit&hl=${this.cultureName}&onload=recaptchaV2Loaded`,super.appendScript()}reset(){grecaptcha.reset()}getVerificationToken(){return this.token.asObservable()}}class $i extends Ve{constructor(n,e){super(n),this.action=e}appendScript(){this.scriptPath=`${this.verifyBaseUrl}recaptcha/api.js?hl=${this.cultureName}&render=${this.siteKey}`,super.appendScript()}getVerificationToken(){try{grecaptcha}catch{return(0,$.of)(null)}return new N.y(n=>{grecaptcha.ready(()=>{grecaptcha.execute(this.siteKey,{action:this.action}).then(e=>{n.next(e)})})})}destroy(){super.destroy();const n=document.querySelector(".grecaptcha-badge");n.parentElement.removeChild(n)}}let ce=(()=>{class o{get isEnabled(){return this.pageStrategy.isEnabled}get reCaptchaVersion(){return this.configState.getSetting("Abp.Account.Captcha.Version")}constructor(e,i,r){this.injector=e,this.configState=i,this.accountService=r}setStrategy(e){this.pageStrategy=e,this.pageStrategy.isEnabled&&this.init()}init(){"2"===this.reCaptchaVersion?this.strategy=new Xi(this.injector,this.pageStrategy.targetElement):"3"===this.reCaptchaVersion&&(this.strategy=new $i(this.injector,this.pageStrategy.action))}validate(){return this.strategy.getVerificationToken().pipe((0,L.w)(e=>this.accountService.recaptchaByCaptchaResponse(e).pipe((0,B.h)(!0))))}getVerificationToken(){return this.strategy.getVerificationToken()}ngOnDestroy(){this.pageStrategy.isEnabled&&this.strategy.destroy()}reset(){this.isEnabled&&this.strategy.reset()}static#t=this.\u0275fac=function(i){return new(i||o)(t.LFG(t.zs3),t.LFG(s.XJE),t.LFG(At))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})(),Ht=(()=>{class o{constructor(e,i){this.injector=e,this.toaster=i,this.pipeToLogin=this.injector.get(s.IIs),this.authService=this.injector.get(s.e80)}login(e){const{username:i,password:r}=this.data,u=this.authService.loginUsingGrant("password",{username:i,password:r,TwoFactorProvider:e.provider,TwoFactorCode:e.code});return(0,O.D)(u).pipe(this.pipeToLogin&&this.pipeToLogin({redirectUrl:this.data.redirectUrl,rememberMe:this.data.rememberMe},this.injector),(0,F.K)(A=>(this.toaster.error(A.error?.error_description||A.error?.error.message||"AbpAccount::DefaultErrorMessage",null,{life:7e3}),(0,I._)(()=>A))))}static#t=this.\u0275fac=function(i){return new(i||o)(t.LFG(t.zs3),t.LFG(l.MJ))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})(),jt=(()=>{class o{constructor(){this.pipeToLogin=(0,t.f3M)(s.IIs),this.injector=(0,t.f3M)(t.zs3),this.authService=(0,t.f3M)(s.e80),this.toaster=(0,t.f3M)(l.MJ),this.data=(0,t.tdS)(null),this.hasData=(0,t.Flj)(()=>!!this.data())}login(e){const{username:i,password:r,redirectUrl:a,rememberMe:c}=this.data(),w=this.authService.loginUsingGrant("password",{username:i,password:r,RecoveryCode:e});return(0,O.D)(w).pipe(this.pipeToLogin&&this.pipeToLogin({redirectUrl:a,rememberMe:c},this.injector),(0,F.K)(v=>(this.toaster.error(v.error?.error_description||v.error?.error.message||"AbpAccount::DefaultErrorMessage",null,{life:7e3}),(0,I._)(()=>v))))}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();const Ki="RequiresTwoFactor",to="ShouldChangePasswordOnNextLogin",eo="PeriodicallyChangePassword",{maxLength:io,required:oo}=g.Validators;let Ge=(()=>{class o{constructor(e){this.injector=e,this.isSelfRegistrationEnabled=!0,this.authWrapperKey="Account.AuthWrapper",this.showPassword=!1,this.capsLock=!1,this.recoveryCodeService=(0,t.f3M)(jt),this.fb=e.get(g.QS),this.toasterService=e.get(l.MJ),this.authService=e.get(s.e80),this.configState=e.get(s.XJE),this.route=e.get(T.gz),this.router=e.get(T.F0),this.identityLinkUserService=e.get(E.K),this.recaptchaService=e.get(ce),this.securityCodeService=e.get(Ht)}ngOnInit(){this.init(),this.buildForm(),this.setLinkUserParams()}ngAfterViewInit(){this.recaptchaService.setStrategy(Qe.Login(this.configState,this.recaptchaRef.nativeElement))}setLinkUserParams(){const{linkUserId:e,linkToken:i,linkTenantId:r}=this.route.snapshot.queryParams;e&&i&&this.identityLinkUserService.verifyLinkToken({token:i,userId:e,tenantId:r}).subscribe(a=>{a&&(this.linkUser={userId:e,token:i,tenantId:r})})}init(){this.isSelfRegistrationEnabled="false"!==(this.configState.getSetting("Abp.Account.IsSelfRegistrationEnabled")||"").toLowerCase()}buildForm(){this.form=this.fb.group({username:["",[oo,io(255)]],password:["",[oo,io(128)]],rememberMe:[!1]})}onSubmit(){if(this.form.invalid)return;this.inProgress=!0;const{username:e,password:i,rememberMe:r}=this.form.value,c={username:e,password:i,rememberMe:r,redirectUrl:we(this.injector)||(this.linkUser?null:"/")};this.checkRecaptcha().pipe((0,L.w)(u=>u?this.authService.login(c).pipe(this.handleLoginError(c)).pipe(this.linkUser?this.switchToLinkUser():(0,j.b)()):(0,$.of)(null)),(0,P.x)(()=>this.inProgress=!1)).subscribe()}checkRecaptcha(){return this.recaptchaService.isEnabled?this.recaptchaService.validate():(0,$.of)(!0)}switchToLinkUser(){return(0,M.z)((0,L.w)(()=>this.identityLinkUserService.link(this.linkUser)),(0,j.b)(()=>{this.router.navigate(["/account/link-logged"],{queryParams:this.route.snapshot.queryParams})}))}handleLoginError(e){return(0,F.K)(i=>{switch(i.error?.error_description){case Ki:const a={...e,userId:i.error.userId};return this.securityCodeService.data={...a,twoFactorToken:i.error.twoFactorToken},this.recoveryCodeService.data.set({...a}),(0,O.D)(this.router.navigate(["/account/send-security-code"]));case eo:case to:return(0,O.D)(this.router.navigate(["/account/change-password"],{queryParams:{token:i.error.changePasswordToken,redirectUrl:e.redirectUrl,username:e.username}}))}return this.recaptchaService.reset(),this.toasterService.error(i.error?.error_description||i.error?.error?.message||"AbpAccount::DefaultErrorMessage",null,{life:7e3}),(0,I._)(()=>i)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-login"]],viewQuery:function(i,r){if(1&i&&t.Gf(Gi,5),2&i){let a;t.iGM(a=t.CRH())&&(r.recaptchaRef=a.first)}},features:[t._Bn([ce])],decls:36,vars:31,consts:[["role","alert","class","alert alert-warning",3,"innerHTML",4,"ngIf"],["class","mb-2",4,"ngIf"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"form-floating","mb-2"],["autofocus","","type","text","id","login-input-user-name-or-email-address","formControlName","username","placeholder","name@example.com",1,"form-control"],["for","login-input-user-name-or-email-address"],["id","password","placeholder","Password","formControlName","password",1,"form-control",3,"abpShowPassword","abpCapsLock"],["for","floatingPassword"],["id","capslockicon",1,"bi","bi-capslock","caps-lock-icon",3,"ngbTooltip"],["id","passwordicon","aria-label","Show/Hide password",3,"ngbTooltip","click"],[1,"row","mb-3"],[1,"col"],[1,"form-check","form-switch"],["type","checkbox","id","rememberMe","formControlName","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],[1,"col","text-end"],["routerLink","/account/forgot-password",1,"text-decoration-none"],[1,"row"],["recaptcha",""],["buttonClass","mt-2 mb-3 btn btn-primary btn-lg","buttonType","submit",1,"d-grid",3,"loading"],[1,"bi","bi-box-arrow-in-right","me-1"],["role","alert",1,"alert","alert-warning",3,"innerHTML"],[1,"mb-2"],["routerLink","/account/register","queryParamsHandling","preserve",1,"text-decoration-none"]],template:function(i,r){1&i&&(t.YNc(0,fn,2,4,"div",0)(1,gn,6,6,"h5",1),t.TgZ(2,"form",2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(3,"div",3),t._UZ(4,"input",4),t.TgZ(5,"label",5),t._uU(6),t.ALo(7,"abpLocalization"),t.qZA()(),t.TgZ(8,"div",3)(9,"input",6),t.NdJ("abpCapsLock",function(c){return r.capsLock=c}),t.qZA(),t.TgZ(10,"label",7),t._uU(11),t.ALo(12,"abpLocalization"),t.qZA(),t._UZ(13,"i",8),t.ALo(14,"abpLocalization"),t.TgZ(15,"i",9),t.NdJ("click",function(){return r.showPassword=!r.showPassword}),t.ALo(16,"abpLocalization"),t.qZA()(),t.TgZ(17,"div",10)(18,"div",11)(19,"div",12),t._UZ(20,"input",13),t.TgZ(21,"label",14),t._uU(22),t.ALo(23,"abpLocalization"),t.qZA()()(),t.TgZ(24,"div",15)(25,"a",16),t._uU(26),t.ALo(27,"abpLocalization"),t.qZA()()(),t.TgZ(28,"div",17)(29,"div",11),t._UZ(30,"div",null,18),t.TgZ(32,"abp-button",19),t._UZ(33,"i",20),t._uU(34),t.ALo(35,"abpLocalization"),t.qZA()()()()),2&i&&(t.Q6J("ngIf",r.linkUser),t.xp6(1),t.Q6J("ngIf",r.isSelfRegistrationEnabled),t.xp6(1),t.Q6J("formGroup",r.form),t.xp6(4),t.hij(" ",t.lcZ(7,17,"AbpAccount::UserNameOrEmailAddress")," "),t.xp6(3),t.Q6J("abpShowPassword",r.showPassword),t.xp6(2),t.Oqu(t.lcZ(12,19,"AbpAccount::Password")),t.xp6(2),t.ekj("d-none",!r.capsLock),t.Q6J("ngbTooltip",t.lcZ(14,21,"AbpAccount::CapsLockOn")),t.xp6(2),t.Gre("bi bi-eye",r.showPassword?"":"-slash"," show-pass-icon"),t.Q6J("ngbTooltip",t.lcZ(16,23,"AbpAccount::"+(r.showPassword?"HidePassword":"ShowPassword"))),t.xp6(7),t.hij(" ",t.lcZ(23,25,"AbpAccount::RememberMe")," "),t.xp6(4),t.hij(" ",t.lcZ(27,27,"AbpAccount::ForgotPassword")," "),t.xp6(6),t.Q6J("loading",r.inProgress),t.xp6(2),t.hij(" ",t.lcZ(35,29,"AbpAccount::Login")," "))},dependencies:[x.O5,g._Y,g.Fj,g.Wl,g.JJ,g.JL,g.sg,g.u,T.rH,s.Uqp,s.YzZ,b.hL,b.J5,l.r0,f._L,s.FTM,s.p$x,s.fuE],encapsulation:2})}return o})(),Wt=(()=>{class o{constructor(){this.store=new s.gSB({})}get createStateStream(){return this.store.sliceState}getProfile$(){return this.store.sliceState(e=>e.profile)}getProfile(){return this.store.state.profile}setProfile(e){this.store.patch({profile:e})}setHideEmailVerificationBtn(e){this.store.patch({hideEmailVerificationBtn:e})}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),He=(()=>{class o{get isTwoFactorEnabled(){const{key:e}=mt.twoFactorBehaviourOptions[0];return this.configState.getFeature("Identity.TwoFactor")===e&&this.configState.getSetting("Abp.Identity.TwoFactor.Behaviour")===e&&"true"===(this.configState.getSetting("Abp.Identity.TwoFactor.UsersCanChange")||"").toLowerCase()}setProfile(e){this.manageProfileState.setProfile(e),this.isProfileLoaded=!0,e.isExternal&&(this.tabsService.patch("AbpAccount::ProfileTab:Password",{invisible:!0}),this.selected=this.firstTab)}patchTwoFactorTab(e){this.tabsService.patch("AbpAccount::ProfileTab:TwoFactor",{invisible:!this.isTwoFactorEnabled||!e})}init(){const e=this.profileService.get().pipe((0,j.b)(i=>this.setProfile(i)),(0,L.w)(()=>this.profileService.canEnableTwoFactor()),(0,j.b)(i=>this.patchTwoFactorTab(i)));this.subscriptionService.addOne(e)}constructor(e,i,r,a,c){this.track=e,this.tabsService=i,this.configState=r,this.profileService=a,this.manageProfileState=c,this.subscriptionService=(0,t.f3M)(s.FFO),this.tabs$=this.tabsService.visible$.pipe((0,j.b)(u=>{this.firstTab=u[0],!this.selected&&u[0].component&&(this.selected=u[0])})),this.init()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(s.vR3),t.Y36(xt.hY),t.Y36(s.XJE),t.Y36(E.H3),t.Y36(Wt))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-manage-profile"]],decls:7,vars:4,consts:[[1,"card"],[1,"card-body"],[1,"row"],[4,"ngIf","ngIfElse"],["loader",""],[1,"col-12","col-md-3"],["id","nav-tab","role","tablist",1,"nav","flex-column","nav-pills"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-9"],["class","tab-content",4,"ngIf"],["class","nav-item",3,"click",4,"abpPermission"],[1,"nav-item",3,"click"],["role","tab","href","javascript:void(0)",1,"nav-link",3,"ngClass"],[1,"tab-content"],["role","tabpanel",1,"tab-pane","fade","show","active",3,"id"],[1,"my-4"],[4,"ngComponentOutlet"],[3,"abpLoading"]],template:function(i,r){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,An,6,3,"ng-container",3),t.ALo(4,"async"),t.qZA()()(),t.YNc(5,_n,1,1,"ng-template",null,4,t.W1O)),2&i){const a=t.MAs(6);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,r.tabs$))("ngIfElse",a)}},dependencies:[x.mk,x.$G,x.sg,x.O5,s.l97,l.TH,x.Ov,s.fuE],encapsulation:2,data:{animation:[(0,k.X$)("fadeIn",[(0,k.eR)(":enter",(0,k._7)(l.Ji))])]},changeDetection:0})}return o})(),ye=(()=>{class o{constructor(e,i){this.list=e,this.service=i,this.data={items:[],totalCount:0},this.filter={}}ngOnInit(){this.hookToQuery()}hookToQuery(){this.list.hookToQuery(e=>this.service.getSecurityLogList({...e,...this.filter})).subscribe(e=>this.data=e)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(s.XNV),t.Y36(E.BR))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-my-security-logs"]],features:[t._Bn([s.XNV,{provide:q.ex,useValue:"Account.MySecurityLogs"},{provide:f.DO,useClass:l._A}])],decls:22,vars:17,consts:[["id","wrapper"],[3,"title","toolbar"],[1,"card"],[1,"card-body","pb-lg-3"],[1,"row","align-items-end",3,"keyup.enter"],[1,"col-md-12","col-lg-3"],[1,"mb-3"],[1,"form-label"],["startDateProp","startTime","endDateProp","endTime",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-md-6","col-lg-3"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","col-lg-2"],[1,"mt-md-4","mb-md-3","btn","btn-primary","w-100",3,"click"],["aria-hidden","true",1,"fas","fa-search"],[3,"data","recordsTotal","list"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"abp-page",1),t.ALo(2,"abpLocalization"),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4),t.NdJ("keyup.enter",function(){return r.list.get()}),t.TgZ(6,"div",5)(7,"div",6)(8,"label",7),t._uU(9),t.ALo(10,"abpLocalization"),t.qZA(),t.TgZ(11,"abp-date-range-picker",8),t.NdJ("ngModelChange",function(c){return r.filter=c}),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",6)(14,"label",7),t._uU(15),t.ALo(16,"abpLocalization"),t.qZA(),t.TgZ(17,"input",10),t.NdJ("ngModelChange",function(c){return r.filter.action=c}),t.qZA()()(),t.TgZ(18,"div",11)(19,"button",12),t.NdJ("click",function(){return r.list.get()}),t._UZ(20,"i",13),t.qZA()()()()(),t._UZ(21,"abp-extensible-table",14),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("title",t.lcZ(2,10,"AbpAccount::MySecurityLogs"))("toolbar",r.data.items),t.xp6(8),t.Oqu(t.lcZ(10,12,"AbpAccount::Date")),t.xp6(2),t.Q6J("ngModel",r.filter)("ngModelOptions",t.DdM(16,Cn)),t.xp6(4),t.Oqu(t.lcZ(16,14,"AbpAccount::MySecurityLogs:Action")),t.xp6(2),t.Q6J("ngModel",r.filter.action),t.xp6(4),t.Q6J("data",r.data.items)("recordsTotal",r.data.totalCount)("list",r.list))},dependencies:[g.Fj,g.JJ,g.On,_.C_,q.m5,h.II,s.fuE],encapsulation:2})}return o})(),le=(()=>{class o{constructor(){this.colors=["#B0284B","#F2A34F","#5588A4","#3E5CF6","#6EBD70"],this.texts=["Weak","Fair","Normal","Good","Strong"],this.requirements={minLengthRegex:/(?=.{6,})/,numberRegex:/(?=.*[0-9])/,lowercaseRegex:/(?=.*[a-z ])/,uppercaseRegex:/(?=.*[A-Z])/,specialCharacterRegex:/[^a-zA-Z0-9 ]+/}}validatePassword(e){let i=0;return Object.values(this.requirements).forEach(r=>{r.test(e)&&i++}),{bgColor:this.colors[i-1],text:this.texts[i-1],width:100/this.colors.length*i}}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Xt=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-password-complexity-indicator"]],inputs:{progressBar:"progressBar"},decls:2,vars:8,consts:[[1,"progress","transition","mx-3"],[1,"progress-bar","transition"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA()),2&i&&(t.Udp("opacity",(null==r.progressBar?null:r.progressBar.width)>0?1:0)("background-color","var(--lpx-border-color)"),t.xp6(1),t.Udp("width",(null==r.progressBar?null:r.progressBar.width)+"%")("background-color",null==r.progressBar?null:r.progressBar.bgColor))},styles:[".transition[_ngcontent-%COMP%]{transition:all .3s ease-out}.progress[_ngcontent-%COMP%]{backgroundColor:var(--lpx-border-color);height:4px;border-radius:3px 3px 0 0;margin-top:-5px;z-index:1;position:relative}[_nghost-%COMP%]{order:1}"]})}return o})();const{maxLength:yr,required:je,email:Ar}=g.Validators;let We=(()=>{class o{constructor(e){this.injector=e,this.isSelfRegistrationEnabled=!0,this.showPassword=!1,this.capsLock=!1,this.fb=e.get(g.qu),this.accountService=e.get(At),this.toasterService=e.get(l.MJ),this.configState=e.get(s.XJE),this.authService=e.get(s.e80),this.recaptchaService=e.get(ce),this.passwordComplexityService=e.get(le)}ngOnInit(){this.isSelfRegistrationEnabled="false"!==(this.configState.getSetting("Abp.Account.IsSelfRegistrationEnabled")||"").toLowerCase(),this.isSelfRegistrationEnabled?this.form=this.fb.group({username:["",[je,yr(255)]],password:["",[je,...(0,l.dD)(this.injector)]],email:["",[je,Ar]]}):this.toasterService.warn({key:"AbpAccount::SelfRegistrationDisabledMessage",defaultValue:"Self registration is disabled."},null,{life:1e4})}ngAfterViewInit(){this.recaptchaService.setStrategy(Qe.Register(this.configState,this.recaptchaRef.nativeElement))}onSubmit(){if(this.form.invalid)return;this.inProgress=!0;const e={userName:this.form.get("username").value,password:this.form.get("password").value,emailAddress:this.form.get("email").value,appName:"Angular"};(this.recaptchaService.isEnabled?this.recaptchaService.getVerificationToken():(0,$.of)(void 0)).pipe((0,L.w)(i=>this.accountService.register({...e,captchaResponse:i}).pipe((0,L.w)(()=>this.authService.login({username:e.userName,password:e.password,redirectUrl:we(this.injector)||"/"})),(0,F.K)(r=>(this.recaptchaService.reset(),this.toasterService.error(r.error?.error_description||r.error?.error?.message||"AbpAccount::DefaultErrorMessage",null,{life:7e3}),(0,I._)(r))))),(0,P.x)(()=>this.inProgress=!1)).subscribe()}get password(){return this.form.value.password}validatePassword(){this.progressBar=this.passwordComplexityService.validatePassword(this.password)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-register"]],viewQuery:function(i,r){if(1&i&&t.Gf(Gi,5),2&i){let a;t.iGM(a=t.CRH())&&(r.recaptchaRef=a.first)}},features:[t._Bn([ce])],decls:7,vars:7,consts:[[1,"mb-3"],["routerLink","/account/login",1,"text-decoration-none"],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"form-floating","mb-2"],["autofocus","","type","text","id","input-user-name","placeholder","name@example.com","formControlName","username",1,"form-control"],["for","input-user-name"],["type","email","id","input-email-address","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","input-email-address"],[1,"form-floating","mb-2","d-flex","flex-column"],["id","password","placeholder","Password","formControlName","password",1,"form-control",3,"abpShowPassword","abpCapsLock","keyup"],[3,"progressBar"],["class","d-flex align-items-center order-2 mt-1","style","font-weight: 500; padding-left: 1.25rem;",4,"ngIf"],["for","input-password",1,"opacity-100"],["id","capslockicon",1,"bi","bi-capslock","caps-lock-icon",3,"ngbTooltip"],["id","passwordicon","aria-label","Show/Hide password",3,"ngbTooltip","click"],["recaptcha",""],[1,"row","mb-3"],[1,"col"],["buttonClass","btn btn-primary register-btn btn-lg w-100","buttonType","submit",1,"d-grid",3,"loading"],[1,"d-flex","align-items-center","order-2","mt-1",2,"font-weight","500","padding-left","1.25rem"]],template:function(i,r){1&i&&(t.TgZ(0,"h5",0),t._uU(1),t.ALo(2,"abpLocalization"),t.TgZ(3,"a",1),t._uU(4),t.ALo(5,"abpLocalization"),t.qZA()(),t.YNc(6,Sn,29,28,"form",2)),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,3,"AbpAccount::AlreadyRegistered")," "),t.xp6(3),t.Oqu(t.lcZ(5,5,"AbpAccount::Login")),t.xp6(2),t.Q6J("ngIf",r.isSelfRegistrationEnabled))},dependencies:[x.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,T.rH,s.Uqp,s.YzZ,b.hL,b.J5,l.r0,f._L,s.FTM,s.p$x,Xt,s.fuE],encapsulation:2})}return o})();const no=["password","confirmPassword"];let Xe=(()=>{class o{constructor(e,i,r,a,c){this.fb=e,this.accountService=i,this.route=r,this.router=a,this.injector=c,this.inProgress=!1,this.isPasswordReset=!1,this.passwordComplexityService=(0,t.f3M)(le),this.mapErrorsFn=(u,A,w)=>no.indexOf(String(w.name))<0?u:u.concat(A.filter(({key:v})=>"passwordMismatch"===v))}ngOnInit(){this.route.queryParams.subscribe(({userId:e,resetToken:i})=>{(!e||!i)&&this.router.navigateByUrl("/account/login"),this.form=this.fb.group({userId:[e,[g.Validators.required]],resetToken:[i,[g.Validators.required]],password:["",[g.Validators.required,...(0,l.dD)(this.injector)]],confirmPassword:["",[g.Validators.required,...(0,l.dD)(this.injector)]]},{validators:[(0,b.z)(no)]})})}onSubmit(){this.form.invalid||this.inProgress||(this.inProgress=!0,this.accountService.resetPassword({userId:this.form.get("userId").value,resetToken:this.form.get("resetToken").value,password:this.form.get("password").value}).pipe((0,P.x)(()=>this.inProgress=!1)).subscribe(()=>{this.isPasswordReset=!0}))}get password(){return this.form.get("password").value}validatePassword(){this.progressBar=this.passwordComplexityService.validatePassword(this.password)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(g.QS),t.Y36(At),t.Y36(T.gz),t.Y36(T.F0),t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-reset-password"]],decls:3,vars:2,consts:[["validateOnSubmit","",3,"formGroup","mapErrorsFn","ngSubmit",4,"ngIf","ngIfElse"],["passwordResetTemplate",""],["validateOnSubmit","",3,"formGroup","mapErrorsFn","ngSubmit"],[1,"mb-3","d-flex","flex-column"],["for","input-password",1,"form-label"],["type","password","id","input-password","formControlName","password",1,"form-control",3,"keyup"],[3,"progressBar"],["class","d-flex align-items-center order-2 mt-1","style","font-weight: 500;",4,"ngIf"],[1,"mb-3"],["for","input-confirm-password",1,"form-label"],["type","password","id","input-confirm-password","formControlName","confirmPassword",1,"form-control"],["type","button",1,"me-2","btn","btn-secondary"],["buttonClass","me-2 btn btn-primary","buttonType","submit",3,"loading"],[1,"d-flex","align-items-center","order-2","mt-1",2,"font-weight","500"],["routerLink","/account/login"],[1,"d-block","mt-2","mb-3","btn","btn-primary"]],template:function(i,r){if(1&i&&t.YNc(0,Pn,26,20,"form",0)(1,Ln,7,6,"ng-template",null,1,t.W1O),2&i){const a=t.MAs(2);t.Q6J("ngIf",!r.isPasswordReset)("ngIfElse",a)}},dependencies:[x.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,T.rH,s.YzZ,b.hL,b.J5,l.r0,Xt,s.fuE],encapsulation:2})}return o})(),$e=(()=>{class o{constructor(e,i,r){this.service=e,this.accountService=i,this.fb=r,this.providers=[],this.codeForm=this.fb.group({code:[null,[g.Validators.required]]})}ngOnInit(){const{twoFactorToken:e,userId:i}=this.service.data;this.accountService.getTwoFactorProviders({token:e,userId:i}).subscribe(r=>{this.providers=r,this.selectedProvider=r[0]})}ngOnDestroy(){this.service.data=null}sendTwoFactorCode(){if(this.loading)return;this.loading=!0;const{twoFactorToken:e,userId:i}=this.service.data;this.accountService.sendTwoFactorCode({token:e,userId:i,provider:this.selectedProvider}).pipe((0,P.x)(()=>this.loading=!1)).subscribe(()=>{this.showCodeForm=!0})}login(){if(this.codeForm.invalid)return;const{code:e}=this.codeForm.value;this.loading=!0,this.service.login({code:e,provider:this.selectedProvider}).pipe((0,P.x)(()=>this.loading=!1)).subscribe()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(Ht),t.Y36(At),t.Y36(g.QS))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-send-security-code"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["codeFormTmp",""],[1,"mb-3"],["for","selected-provider",1,"form-label"],["id","selected-provider","name","selected-provider",1,"form-select","form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"loading","abpClick"],[3,"ngValue"],[3,"formGroup","ngSubmit"],["for","code",1,"form-label"],["type","text","id","code","formControlName","code","autocomplete","off","autofocus","",1,"form-control"],["buttonType","submit",3,"loading"],[1,"mt-3"],[3,"routerLink"]],template:function(i,r){if(1&i&&t.YNc(0,En,13,12,"form",0)(1,Zn,17,16,"ng-template",null,1,t.W1O),2&i){const a=t.MAs(2);t.Q6J("ngIf",!r.showCodeForm)("ngIfElse",a)}},dependencies:[x.sg,x.O5,g._Y,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.JL,g.On,g.F,g.sg,g.u,T.rH,s.Uqp,s.YzZ,b.hL,b.J5,l.r0,s.fuE],encapsulation:2})}return o})(),_r=(()=>{class o{constructor(e){this.authService=e}canActivate(){return!!this.authService.isInternalAuth||(this.authService.navigateToLogin(),!1)}static#t=this.\u0275fac=function(i){return new(i||o)(t.LFG(s.e80))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();const ue=()=>{const o=(0,t.f3M)(s.e80);return!!o.isInternalAuth||(o.navigateToLogin(),!1)};let Cr=(()=>{class o{constructor(e,i){this.service=e,this.router=i}canActivate(){const e=this.router.createUrlTree(["/account/login"]);return!!this.service.data||e}static#t=this.\u0275fac=function(i){return new(i||o)(t.LFG(Ht),t.LFG(T.F0))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();const ro=()=>{const o=(0,t.f3M)(Ht),e=(0,t.f3M)(T.F0).createUrlTree(["/account/login"]);return!!o.data||e},{required:Ke}=g.Validators;let ti=(()=>{class o{constructor(){this.manageProfileState=(0,t.f3M)(Wt),this.fb=(0,t.f3M)(g.qu),this.toasterService=(0,t.f3M)(l.MJ),this.activatedRoute=(0,t.f3M)(T.gz),this.router=(0,t.f3M)(T.F0),this.profileService=(0,t.f3M)(E.H3),this.authService=(0,t.f3M)(s.e80),this.toasterSuccessOption={message:"AbpAccount::PasswordChangedMessage",title:"",options:{life:5e3}},this.legacyInjector=(0,t.f3M)(t.zs3),this.PASSWORD_FIELDS=["newPassword","repeatNewPassword"],this.MapErrorsFnFactory=()=>(e,i,r)=>this.PASSWORD_FIELDS.indexOf(String(r.name))<0?e:e.concat(i.filter(({key:a})=>"passwordMismatch"===a))}getQueryParams(){const{token:e,username:i}=this.activatedRoute.snapshot.queryParams;return{token:e,username:i}}get hasPassword(){return!!this.manageProfileState.getProfile()?.hasPassword}get returnUrl(){return this.activatedRoute.snapshot.queryParams.returnUrl}buildForm(e=!1){const i=(0,l.dD)(this.legacyInjector),r=this.fb.group({currentPassword:["",Ke],newPassword:["",{validators:[Ke,...i]}],repeatNewPassword:["",{validators:[Ke,...i]}]},{validators:[(0,b.z)(this.PASSWORD_FIELDS)]});return e&&r.removeControl("currentPassword"),r}changePassword(e){return this.profileService.changePassword(e)}changePasswordAndLogin(e){const i=this.getQueryParams();return(0,O.D)(this.authService.loginUsingGrant("password",{password:e.currentPassword,NewPassword:e.newPassword,username:i.username,ChangePasswordToken:i.token}))}redirectToReturnUrl(){return(0,O.D)(this.router.navigateByUrl(this.returnUrl||"/"))}showSuccessMessage(){const{message:e,title:i,options:r}=this.toasterSuccessOption;this.toasterService.success(e,i,r)}showErrorMessage(e){this.toasterService.error(e.error?.error?.message||"AbpAccount::DefaultErrorMessage")}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),ei=(()=>{class o{constructor(){this.accountService=(0,t.f3M)(E.BR),this.profileService=(0,t.f3M)(E.H3)}get isTwoFactorEnabled$(){return this.profileService.getTwoFactorEnabled()}setTwoFactorStatus(e){return this.profileService.setTwoFactorEnabled(e)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})(),ii=(()=>{class o{constructor(){this.accountService=(0,t.f3M)(E.BR),this.hasAuthenticator=(0,Zt.O4)(this.accountService.hasAuthenticator()),this.authenticatorInfo=(0,Zt.O4)(this.accountService.getAuthenticatorInfo())}resetAuthenticator(){return this.accountService.resetAuthenticator()}verifyAuthenticatorCode(e){return this.accountService.verifyAuthenticatorCode({code:e})}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})(),Tr=(()=>{class o{constructor(){this.router=(0,t.f3M)(T.F0),this.recoveryCodeService=(0,t.f3M)(jt)}canActivate(){const e=this.router.createUrlTree(["/account/login"]);return!!this.recoveryCodeService.hasData()||e}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();const ao=()=>{const o=(0,t.f3M)(T.F0),n=(0,t.f3M)(jt),e=o.createUrlTree(["/account/login"]);return!!n.hasData()||e};let oi=(()=>{class o{constructor(){this.service=(0,t.f3M)(ti),this.#t=(0,t.f3M)(t.ktI),this.passwordComplexityService=(0,t.f3M)(le),this.subscription=(0,t.f3M)(s.FFO),this.hideCurrentPassword=!1,this.showCurrentPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.mapErrorsFn=this.service.MapErrorsFnFactory()}#t;ngOnInit(){this.hideCurrentPassword=!this.service.hasPassword,this.form=this.service.buildForm(this.hideCurrentPassword)}onSuccess(){this.service.showSuccessMessage(),this.hideCurrentPassword=!1,this.form=this.service.buildForm(this.hideCurrentPassword)}onSubmit(){if(this.form.invalid)return;const e=this.form.value;this.service.changePassword({currentPassword:e.currentPassword,newPassword:e.newPassword}).pipe((0,Zt.sL)(this.#t)).subscribe({next:()=>this.onSuccess(),error:i=>this.service.showErrorMessage(i)})}get newPassword(){return this.form.value.newPassword}validatePassword(){this.progressBar=this.passwordComplexityService.validatePassword(this.newPassword)}static#e=this.\u0275fac=function(i){return new(i||o)};static#i=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-change-password-form"]],exportAs:["abpChangePasswordForm"],features:[t._Bn([s.FFO])],decls:27,vars:24,consts:[["validateOnSubmit","",3,"formGroup","mapErrorsFn","ngSubmit"],["class","mb-3",4,"ngIf"],[1,"mb-3","d-flex","flex-column"],["for","new-password",1,"form-label"],["validationTarget","",1,"input-group","form-group"],["id","new-password","formControlName","newPassword",1,"form-control",3,"abpShowPassword","keyup"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa",3,"ngClass"],[3,"progressBar"],["class","d-flex align-items-center order-2 mt-1","style","font-weight: 500",4,"ngIf"],[1,"mb-3"],["for","confirm-new-password",1,"form-label"],["id","confirm-new-password","formControlName","repeatNewPassword",1,"form-control",3,"abpShowPassword","keyup"],["iconClass","fa fa-check","buttonClass","btn btn-primary color-white","buttonType","submit"],["for","current-password",1,"form-label"],["id","current-password","formControlName","currentPassword",1,"form-control",3,"abpShowPassword"],[1,"d-flex","align-items-center","order-2","mt-1",2,"font-weight","500"]],template:function(i,r){1&i&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.YNc(1,In,10,8,"div",1),t.TgZ(2,"div",2)(3,"label",3),t._uU(4),t.ALo(5,"abpLocalization"),t.TgZ(6,"span"),t._uU(7," * "),t.qZA()(),t.TgZ(8,"div",4)(9,"input",5),t.NdJ("keyup",function(){return r.validatePassword()}),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return r.showNewPassword=!r.showNewPassword}),t._UZ(11,"i",7),t.qZA()(),t._UZ(12,"abp-password-complexity-indicator",8),t.YNc(13,Un,6,8,"div",9),t.qZA(),t.TgZ(14,"div",10)(15,"label",11),t._uU(16),t.ALo(17,"abpLocalization"),t.TgZ(18,"span"),t._uU(19," * "),t.qZA()(),t.TgZ(20,"div",4)(21,"input",12),t.NdJ("keyup",function(){return r.validatePassword()}),t.qZA(),t.TgZ(22,"button",6),t.NdJ("click",function(){return r.showConfirmPassword=!r.showConfirmPassword}),t._UZ(23,"i",7),t.qZA()()(),t.TgZ(24,"abp-button",13),t._uU(25),t.ALo(26,"abpLocalization"),t.qZA()()),2&i&&(t.Q6J("formGroup",r.form)("mapErrorsFn",r.mapErrorsFn),t.xp6(1),t.Q6J("ngIf",!r.hideCurrentPassword),t.xp6(3),t.hij(" ",t.lcZ(5,12,"AbpIdentity::DisplayName:NewPassword")," "),t.xp6(5),t.Q6J("abpShowPassword",r.showNewPassword),t.xp6(2),t.Q6J("ngClass",t.WLB(18,Gt,!r.showNewPassword,r.showNewPassword)),t.xp6(1),t.Q6J("progressBar",r.progressBar),t.xp6(1),t.Q6J("ngIf",(null==r.progressBar?null:r.progressBar.width)>0),t.xp6(3),t.hij(" ",t.lcZ(17,14,"AbpIdentity::DisplayName:NewPasswordConfirm")," "),t.xp6(5),t.Q6J("abpShowPassword",r.showConfirmPassword),t.xp6(2),t.Q6J("ngClass",t.WLB(21,Gt,!r.showConfirmPassword,r.showConfirmPassword)),t.xp6(2),t.hij(" ",t.lcZ(26,16,"AbpIdentity::Save")," "))},dependencies:[x.mk,x.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,s.YzZ,b.hL,b.kG,b.J5,l.r0,s.FTM,Xt,s.fuE],encapsulation:2})}return o})();const ni=new t.OlP("RE_LOGIN_CONFIRMATION_TOKEN");let ri=(()=>{class o{loadData(){this.storedProfile=this.manageProfileState.getProfile(),this.buildForm(this.storedProfile)}constructor(e,i,r,a,c,u,A,w,v,y,C,H){this.fb=e,this.accountService=i,this.toasterService=r,this.confirmationService=a,this.configState=c,this.subscription=u,this.manageProfileState=A,this.profileService=w,this.cdr=v,this.injector=y,this.authService=C,this.isPersonalSettingsChangedConfirmationActive=H,this.profile$=this.manageProfileState.getProfile$(),this.modalVisible=!1,this.modalBusy=!1,this.token="",this.isEmailUpdateEnabled=!0,this.isUserNameUpdateEnabled=!0,this.buildForm=V=>{const K=new q.lg(this.injector,V);this.form=(0,q.se)(K)},this.removeModal=()=>{this.modalVisible=!1},this.logoutConfirmation=()=>{this.authService.logout().subscribe()}}ngOnDestroy(){this.removeModal()}ngOnInit(){this.subscription.addOne(this.profile$.pipe((0,D.h)(Boolean),(0,j.b)(e=>this.storedProfile=e)),this.buildForm)}submit(){if(this.form.invalid)return;const e=this.isLogoutConfirmMessageActive(),{phoneNumberConfirmed:i,...r}=this.form.value;this.profileService.update(r).subscribe(a=>{this.manageProfileState.setProfile(a),this.cdr.detectChanges(),this.toasterService.success("AbpAccount::PersonalSettingsSaved","",{life:5e3}),e&&this.showLogoutConfirmMessage()})}isDataSame(e,i){return Object.entries(e).some(([r,a])=>r in i&&a!==i[r])}isLogoutConfirmMessageActive(){return!!this.isPersonalSettingsChangedConfirmationActive&&this.isDataSame(this.storedProfile,this.form.value)}showLogoutConfirmMessage(){this.confirmationService.info("AbpAccount::PersonalSettingsChangedConfirmationModalDescription","AbpAccount::PersonalSettingsChangedConfirmationModalTitle").pipe((0,D.h)(e=>e===l.Tv.Status.confirm)).subscribe(this.logoutConfirmation)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(g.QS),t.Y36(At),t.Y36(l.MJ),t.Y36(l.YP),t.Y36(s.XJE),t.Y36(s.FFO),t.Y36(Wt),t.Y36(E.H3),t.Y36(t.sBO),t.Y36(t.zs3),t.Y36(s.e80),t.Y36(ni))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-personal-settings-form"]],features:[t._Bn([s.FFO,{provide:q.ex,useValue:"Account.PersonalSettingsComponent"}])],decls:1,vars:1,consts:[["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[3,"selectedRecord"],["buttonType","submit","iconClass","fa fa-check","buttonClass","btn btn-primary color-white",3,"disabled"]],template:function(i,r){1&i&&t.YNc(0,On,5,6,"form",0),2&i&&t.Q6J("ngIf",r.form)},dependencies:[x.O5,g._Y,g.JL,g.sg,s.YzZ,q.gt,b.hL,l.r0,s.fuE],encapsulation:2})}return o})(),ai=(()=>{class o{get currentUserId(){return this.configState.getDeep("currentUser.id")}constructor(e,i,r,a,c){this.profilePicture$=e,this.cdRef=i,this.confirmation=r,this.profilePictureService=a,this.configState=c,this.profilePictureType=Ct.ft.None}toBase64(e){return new Promise((i,r)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>i(a.result),a.onerror=c=>r(c)})}ngOnInit(){this.getProfilePhoto()}getProfilePhoto(){this.profilePictureService.getProfilePicture(this.currentUserId).pipe((0,P.x)(()=>{this.profileLoaded=!0,this.cdRef.markForCheck()})).subscribe({next:e=>{this.profilePictureType=e.type;const i=e.source||`data:image/png;base64,${e.fileContent}`;this.profilePicture$.value.source!==i&&this.profilePicture$.next({type:"image",source:i})},error:()=>this.profilePicture$.next(Ct.TB)})}submit(){let e="";switch(this.profilePictureType){case Ct.ft.Gravatar:e="UseGravatarConfirm";break;case Ct.ft.Image:e="PPUploadConfirm";break;default:e="NoProfilePictureConfirm"}this.confirmation.warn(`AbpAccount::${e}`,"AbpAccount::AreYouSure").pipe((0,D.h)(i=>i===l.Tv.Status.confirm),(0,j.b)(()=>this.inProgress=!0),(0,L.w)(()=>{if(this.profilePictureType===Ct.ft.Image){const i=new J.x;return this.cropper.getCroppedCanvas().toBlob(r=>{this.profilePictureService.setProfilePicture({type:this.profilePictureType,imageContent:r}).pipe((0,P.x)(()=>i.complete()),(0,F.K)(a=>(i.error(a),R.E))).subscribe(a=>i.next(a))}),i.asObservable()}return this.profilePictureService.setProfilePicture({type:this.profilePictureType})}),(0,Y.q)(1),(0,P.x)(()=>{this.inProgress=!1;const i=document.getElementsByClassName("lpx-scroll-container")[0];i&&i.scrollTo({top:0,behavior:"instant"})})).subscribe(()=>{this.getProfilePhoto(),this.selectedImage=null,this.uploadFileRef&&(this.uploadFileRef.nativeElement.value=null)})}onSelectImage(e){var i=this;return(0,d.Z)(function*(){i.selectedImage=yield i.toBase64(e),i.cdRef.detectChanges(),i.cropper&&i.cropper.destroy();const r=[250,150,75],a=()=>{i.selectedImagePreviews.forEach((c,u)=>{const A=r[u];c.nativeElement.src=i.cropper.getCroppedCanvas({width:A,height:A}).toDataURL()})};i.cropper=new Vi(i.selectedImgRef.nativeElement,{aspectRatio:1,viewMode:1,cropend:()=>a(),ready:()=>a()})})()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(Ct.aX),t.Y36(t.sBO),t.Y36(l.YP),t.Y36(Ct.jP),t.Y36(s.XJE))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-profile-picture"]],viewQuery:function(i,r){if(1&i&&(t.Gf(Rn,5,t.SBq),t.Gf(Dn,5,t.SBq),t.Gf(kn,5,t.SBq)),2&i){let a;t.iGM(a=t.CRH())&&(r.uploadFileRef=a.first),t.iGM(a=t.CRH())&&(r.selectedImgRef=a.first),t.iGM(a=t.CRH())&&(r.selectedImagePreviews=a)}},decls:2,vars:1,consts:[[1,"row"],[1,"col"],[1,"mb-3"],[1,"form-label"],["alt","current-profile-picture",1,"current-profile-picture",3,"src"],[1,"form-check","mb-2"],["type","radio","name","pptype","id","Radio_UseDefault",1,"form-check-input","pp-type-selector",3,"value","ngModel","ngModelChange"],["for","Radio_UseDefault",1,"form-check-label"],["type","radio","name","pptype","id","Radio_UseGravatar",1,"form-check-input","pp-type-selector",3,"value","ngModel","ngModelChange"],["for","Radio_UseGravatar",1,"form-check-label"],[1,"d-block","form-text","text-muted"],["type","radio","name","pptype","id","Radio_UploadFile",1,"form-check-input","pp-type-selector",3,"value","ngModel","ngModelChange"],["for","Radio_UploadFile",1,"form-check-label"],["class","row","id","UploadPPContainer"],[1,"mt-2","row"],[1,"btn","btn-primary",3,"disabled","click"],["id","UploadPPContainer",1,"row"],["for","UploadProfilePictureInfo_Picture",1,"form-label"],["accept","image/*","type","file","id","UploadProfilePictureInfo_Picture",1,"form-control",3,"change"],["uploadFile",""],[1,"general-image-container"],["alt","selected-image",1,"selected-image",3,"src"],["selectedImgRef",""],["id","CursorInfo",1,"mt-2"],[1,"image-process-section"],[1,"sample-images","clearfix","mt-2"],[1,"big"],["alt","selected-image-preview-big"],["preview",""],[1,"medium"],["alt","selected-image-preview-medium"],[1,"small"],["alt","selected-image-preview-small"],[3,"abpLoading"]],template:function(i,r){1&i&&t.YNc(0,zn,36,29)(1,Jn,1,1),2&i&&t.um2(0,r.profileLoaded?0:1)},dependencies:[g.Fj,g._,g.JJ,g.On,l.TH,x.Ov,s.fuE],styles:['/*!\n * Cropper.js v1.6.1\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-09-17T03:44:17.565Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;touch-action:none;-webkit-user-select:none;user-select:none}.cropper-container img{backface-visibility:hidden;display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-wrap-box,.cropper-canvas,.cropper-drag-box,.cropper-crop-box,.cropper-modal{inset:0;position:absolute}.cropper-wrap-box,.cropper-canvas{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:#3399ffbf;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:calc(100% / 3);left:0;top:calc(100% / 3);width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:calc(100% / 3);top:0;width:calc(100% / 3)}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:before,.cropper-center:after{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width: 768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width: 992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width: 1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC)}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}\n',".current-profile-picture{display:block;margin:0 auto;width:250px}.selected-image{display:block;max-width:100%}.cursor-info{display:block}.sample-images{list-style-type:none}.sample-images img{border:1px dotted slategray}.sample-images img:hover{border-radius:50%}.sample-images li{float:left;margin-left:1.2em}.sample-images li.big img{width:250px;height:250px}.sample-images li.medium img{width:150px;height:150px}.sample-images li.small img{width:75px;height:75px}\n"],encapsulation:2,changeDetection:0})}return o})(),si=(()=>{class o{isTwoFactorEnabled(){this.isLoaded.set(!1),this.twoFactorTabService.isTwoFactorEnabled$.pipe((0,P.x)(()=>this.isLoaded.set(!0))).subscribe(e=>this.form.controls.isTwoFactorEnabled.setValue(e))}trackTwoFactorStatus(){this.form.valueChanges.pipe((0,Z.T)(1),(0,L.w)(({isTwoFactorEnabled:e})=>this.twoFactorTabService.setTwoFactorStatus(e).pipe((0,F.K)(()=>(this.form.controls.isTwoFactorEnabled.setValue(!1,{emitEvent:!1}),R.E)))),(0,Zt.sL)()).subscribe()}constructor(){this.fb=(0,t.f3M)(g.qu),this.twoFactorTabService=(0,t.f3M)(ei),this.form=this.fb.group({isTwoFactorEnabled:[!1]}),this.isLoaded=(0,t.tdS)(!1),this.isTwoFactorEnabled(),this.trackTwoFactorStatus()}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-two-factor-tab"]],standalone:!0,features:[t._Bn([ei]),t.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],[1,"form-check","mb-2"],["type","checkbox","id","twoFactorEnabled","formControlName","isTwoFactorEnabled",1,"form-check-input"],["for","twoFactorEnabled",1,"form-check-label"],[1,"text-muted"],[3,"abpLoading"]],template:function(i,r){if(1&i&&t.YNc(0,qn,11,7,"ng-container",0)(1,Yn,1,1,"ng-template",null,1,t.W1O),2&i){const a=t.MAs(2);t.Q6J("ngIf",r.isLoaded())("ngIfElse",a)}},dependencies:[x.O5,s.IR2,g._Y,g.Wl,g.JJ,g.JL,g.sg,g.u,s.fuE,l.e2,b.hL,b.J5,l.TH],encapsulation:2,changeDetection:0})}return o})();const{required:Sr}=g.Validators;let so=(()=>{class o{constructor(){this.fb=(0,t.f3M)(g.qu),this.recoveryCodeService=(0,t.f3M)(jt),this.loading=!1,this.form=this.fb.group({recoveryCode:[null,Sr]})}login(){this.form.invalid||(this.loading=!0,this.recoveryCodeService.login(this.form.value.recoveryCode).pipe((0,P.x)(()=>this.loading=!1)).subscribe())}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-login-with-recovery-code"]],standalone:!0,features:[t.jDz],decls:12,vars:12,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","recoveryCode",1,"form-label"],["autofocus","","id","recoveryCode","type","text","formControlName","recoveryCode","autocomplete","off",1,"form-control"],["buttonType","submit",3,"loading","disabled"]],template:function(i,r){1&i&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return r.login()}),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA(),t.TgZ(4,"div",1)(5,"label",2),t._uU(6),t.ALo(7,"abpLocalization"),t.qZA(),t._UZ(8,"input",3),t.qZA(),t.TgZ(9,"abp-button",4),t._uU(10),t.ALo(11,"abpLocalization"),t.qZA()()),2&i&&(t.Q6J("formGroup",r.form),t.xp6(2),t.Oqu(t.lcZ(3,6,"AbpAccount::LoginWithRecoveryCode_Information")),t.xp6(4),t.hij(" ",t.lcZ(7,8,"AbpAccount::RecoveryCode")," "),t.xp6(3),t.Q6J("loading",r.loading)("disabled",r.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(11,10,"AbpAccount::Submit")," "))},dependencies:[s.IR2,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,s.fuE,s.Uqp,s.YzZ,l.e2,b.hL,b.J5,l.r0],encapsulation:2})}return o})(),Ae=(()=>{class o{constructor(){this.btnClick=new t.vpe}onBtnClick(){this.btnClick.emit()}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-personal-settings-verify-button"]],inputs:{buttonLabel:"buttonLabel",verifiedLabel:"verifiedLabel",verified:"verified",edited:"edited",editedLabel:"editedLabel",editedTooltip:"editedTooltip"},outputs:{btnClick:"btnClick"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["editedTemplate",""],["class","input-group-text",4,"ngIf","ngIfElse"],["verifyButton",""],[1,"input-group-text"],["aria-hidden","true",1,"me-1","text-success","fa","fa-check-square"],[1,"text-success"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"me-1","fa","fa-vcard"],["placement","top",1,"input-group-text",3,"ngbTooltip"],["aria-hidden","true",1,"me-1","fa","fa-times"],[1,"text-danger"]],template:function(i,r){if(1&i&&t.YNc(0,Gn,4,2,"ng-container",0)(1,Hn,6,6,"ng-template",null,1,t.W1O),2&i){const a=t.MAs(2);t.Q6J("ngIf",!r.edited)("ngIfElse",a)}},dependencies:[x.O5,f._L,s.fuE],encapsulation:2,changeDetection:0})}return o})(),ci=(()=>{class o{constructor(e,i,r,a,c,u,A,w,v){this.formProp=e,this.propData=i,this.formGroupDirective=r,this.configState=a,this.accountService=c,this.toasterService=u,this.manageProfileState=A,this.confirmationService=w,this.cdr=v,this.initPhoneNumberConfirmation=()=>{this.formControl.invalid||this.accountService.sendPhoneNumberConfirmationToken({phoneNumber:this.formControl.value,userId:this.userId}).pipe((0,j.b)(()=>this.token="")).subscribe(this.openModal)},this.openModal=()=>{this.modalVisible=!0,this.cdr.detectChanges()},this.removeModal=()=>{this.modalVisible=!1},this.setPhoneNumberAsConfirmed=()=>{const y={...this.manageProfileState.getProfile(),phoneNumberConfirmed:!0};this.manageProfileState.setProfile(y)},this.name=e.name,this.id=e.id,this.isVerified=i.phoneNumberConfirmed,this.displayName=e.displayName,this.formGroup=this.formGroupDirective.control,this.formControl=this.formGroup.controls[this.name],this.isEnablePhoneNumberConfirmation=this.getIsEnablePhoneNumberConfirmation(),this.initialValue=i.phoneNumber,this.isValueChanged$=this.formControl.valueChanges.pipe((0,U.U)(y=>y!==this.initialValue))}getIsEnablePhoneNumberConfirmation(){return"True"===this.configState.getSetting("Abp.Identity.SignIn.EnablePhoneNumberConfirmation")}get userId(){return this.configState.getDeep("currentUser.id")}confirmPhoneNumber(){this.accountService.confirmPhoneNumber({token:this.token,userId:this.userId}).pipe((0,j.b)(this.setPhoneNumberAsConfirmed),(0,j.b)(this.removeModal)).subscribe(()=>{this.toasterService.success("AbpAccount::Verified","",{life:5e3})})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(q.QN),t.Y36(q.NB),t.Y36(g.sg),t.Y36(s.XJE),t.Y36(At),t.Y36(l.MJ),t.Y36(Wt),t.Y36(l.YP),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-personal-settings-phone-number"]],features:[t._Bn([],[q.YJ])],decls:14,vars:11,consts:[[1,"mb-3"],[1,"form-label"],["validationTarget","","validationStyle","",1,"input-group"],["type","text",1,"form-control",3,"formControlName"],["class","input-group-append",4,"ngIf"],[3,"visible","busy","options","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[1,"input-group-append"],[3,"verified","edited","btnClick"],[3,"ngSubmit"],[1,"mt-2"],["for","confirm-phone-number",1,"form-label"],["id","confirm-phone-number","name","confirm-phone-number","type","text","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["abpClose","","type","button",1,"btn","btn-secondary"],["type","abp-button","iconClass","fa fa-check",3,"click"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"label",1),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"input",3),t.YNc(6,jn,3,4,"div",4),t.qZA()(),t.TgZ(7,"abp-modal",5),t.NdJ("visibleChange",function(c){return r.modalVisible=c}),t.YNc(8,Wn,3,3,"ng-template",null,6,t.W1O)(10,Xn,10,8,"ng-template",null,7,t.W1O)(12,$n,6,6,"ng-template",null,8,t.W1O),t.qZA()),2&i&&(t.xp6(1),t.uIk("for",r.id),t.xp6(1),t.Oqu(t.lcZ(3,8,r.displayName)),t.xp6(3),t.Q6J("formControlName",r.name),t.uIk("id",r.id),t.xp6(1),t.Q6J("ngIf",r.initialValue&&r.isEnablePhoneNumberConfirmation),t.xp6(1),t.Q6J("visible",r.modalVisible)("busy",r.modalBusy)("options",t.DdM(10,Kn)))},dependencies:[x.O5,g._Y,g.Fj,g.JJ,g.JL,g.On,g.F,g.u,s.Uqp,b.Wh,b.kG,b.J5,l.r0,l.zS,l.YM,Ae,x.Ov,s.fuE],encapsulation:2})}return o})(),li=(()=>{class o{constructor(e,i,r,a,c,u,A,w){this.formProp=e,this.propData=i,this.formGroupDirective=r,this.manageProfileState=a,this.toasterService=c,this.accountService=u,this.configState=A,this.environmentService=w,this.subscriptionService=(0,t.f3M)(s.FFO),this.displayName=e.displayName,this.name=e.name,this.id=e.id,this.formGroup=this.formGroupDirective.control,this.formControl=this.formGroup.controls[this.name],this.initialValue=i.email,this.isValueChanged$=this.formControl.valueChanges.pipe((0,U.U)(v=>v!==this.initialValue)),this.isReadonly$=A.getSetting$("Abp.Identity.User.IsEmailUpdateEnabled").pipe((0,U.U)(v=>"true"!==v.toLowerCase())),this.isVerified=i.emailConfirmed,this.showEmailVerificationBtn$=this.manageProfileState.createStateStream(v=>!v.hideEmailVerificationBtn)}get userId(){return this.configState.getDeep("currentUser.id")}sendEmailVerificationToken(){if(this.formControl.invalid)return;const e=this.formControl.value,i=this.userId,r=this.environmentService.getEnvironment$().pipe((0,U.U)(({application:{baseUrl:a},oAuthConfig:{responseType:c}})=>({appName:"code"===c?"MVC":"Angular",returnUrl:`${a}/account/login`})),(0,L.w)(({appName:a,returnUrl:c})=>this.accountService.sendEmailConfirmationToken({appName:a,email:e,userId:i,returnUrl:c})));this.subscriptionService.addOne(r,()=>{this.toasterService.success("AbpAccount::EmailConfirmationSentMessage","",{messageLocalizationParams:[e]}),this.manageProfileState.setHideEmailVerificationBtn(!0)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(q.QN),t.Y36(q.NB),t.Y36(g.sg),t.Y36(Wt),t.Y36(l.MJ),t.Y36(At),t.Y36(s.XJE),t.Y36(s.L$R))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-personal-settings-email"]],features:[t._Bn([],[q.YJ])],decls:11,vars:12,consts:[[1,"mb-3"],[1,"form-label"],["validationTarget","","validationStyle","",1,"input-group"],["type","email",1,"form-control",3,"formControlName","readonly"],["class","input-group-append",4,"ngIf"],[1,"input-group-append"],[3,"verified","edited","btnClick"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"label",1),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA(),t.TgZ(4,"span"),t._uU(5," * "),t.qZA(),t.TgZ(6,"div",2),t._UZ(7,"input",3),t.ALo(8,"async"),t.YNc(9,tr,3,4,"div",4),t.ALo(10,"async"),t.qZA()()),2&i&&(t.xp6(1),t.uIk("for",r.id),t.xp6(1),t.Oqu(t.lcZ(3,6,r.displayName)),t.xp6(5),t.Q6J("formControlName",r.name)("readonly",t.lcZ(8,8,r.isReadonly$)),t.uIk("id",r.id),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,10,r.showEmailVerificationBtn$)))},dependencies:[x.O5,g.Fj,g.JJ,g.u,b.Wh,b.kG,b.J5,Ae,x.Ov,s.fuE],encapsulation:2})}return o})(),_e=(()=>{class o{constructor(e){this.formProp=e,this.displayName=e.displayName,this.name=e.name,this.id=e.id}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(q.QN))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-personal-settings-half-row"]],features:[t._Bn([],[q.YJ])],decls:6,vars:7,consts:[[1,"w-50","d-inline"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"formControlName"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3),t.ALo(4,"abpLocalization"),t.qZA(),t._UZ(5,"input",3),t.qZA()()),2&i&&(t.xp6(2),t.uIk("for",r.name),t.xp6(1),t.hij("",t.lcZ(4,5,r.displayName)," "),t.xp6(2),t.Q6J("formControlName",r.name),t.uIk("id",r.id)("name",r.name))},dependencies:[g.Fj,g.JJ,g.u,b.J5,s.fuE],encapsulation:2})}return o})(),ui=(()=>{class o{constructor(){this.profileService=(0,t.f3M)(E.H3),this.configState=(0,t.f3M)(s.XJE),this.subscription=(0,t.f3M)(s.FFO),this.formProp=(0,t.f3M)(q.QN),this.propData=(0,t.f3M)(q.NB),this.track=(0,t.f3M)(s.vR3),this.timeZones$=this.profileService.getTimezones()}get name(){return this.formProp.name}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-personal-settings-time-zone"]],features:[t._Bn([],[q.YJ])],decls:9,vars:7,consts:[[1,"mb-3"],[1,"form-label"],[1,"ms-1"],["name","timezone",1,"form-select","form-control",3,"formControlName"],[4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngValue"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"label",1),t._uU(2),t.ALo(3,"abpLocalization"),t._UZ(4,"span",2),t.qZA(),t.TgZ(5,"div")(6,"select",3),t.YNc(7,ir,2,2,"ng-container",4),t.ALo(8,"async"),t.qZA()()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"AbpSettingManagement::Menu:TimeZone")),t.xp6(4),t.Q6J("formControlName",r.name),t.xp6(1),t.Q6J("ngIf",t.lcZ(8,5,r.timeZones$)))},dependencies:[x.sg,x.O5,g.YN,g.Kr,g.EJ,g.JJ,g.u,b.J5,x.Ov,s.fuE],encapsulation:2})}return o})(),pi=(()=>{class o{constructor(){this.passwordComplexityService=(0,t.f3M)(le),this.service=(0,t.f3M)(ti),this.subscription=(0,t.f3M)(s.FFO),this.showCurrentPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.mapErrorsFn=this.service.MapErrorsFnFactory()}ngOnInit(){this.form=this.service.buildForm()}onSuccess(){const e=this.service.redirectToReturnUrl();this.subscription.addOne(e)}onSubmit(){if(this.form.invalid)return;const e=this.form.value,i=this.service.changePasswordAndLogin({currentPassword:e.currentPassword,newPassword:e.newPassword});this.subscription.addOne(i,()=>this.onSuccess(),r=>this.service.showErrorMessage(r))}get newPassword(){return this.form.get("newPassword").value}validatePassword(){this.progressBar=this.passwordComplexityService.validatePassword(this.newPassword)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-refresh-password-form"]],exportAs:["abpRefreshPasswordForm"],features:[t._Bn([s.FFO])],decls:36,vars:31,consts:[["validateOnSubmit","",3,"formGroup","mapErrorsFn","ngSubmit"],[1,"mb-3"],["for","current-password",1,"form-label"],["validationTarget","",1,"input-group","form-group"],["id","current-password","formControlName","currentPassword",1,"form-control",3,"abpShowPassword"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"mb-3","d-flex","flex-column"],["for","new-password",1,"form-label"],["id","new-password","formControlName","newPassword",1,"form-control",3,"abpShowPassword","keyup"],[3,"progressBar"],["class","d-flex align-items-center order-2 mt-1","style","font-weight: 500;",4,"ngIf"],["for","confirm-new-password",1,"form-label"],["id","confirm-new-password","formControlName","repeatNewPassword",1,"form-control",3,"abpShowPassword","keyup"],["iconClass","fa fa-check","buttonClass","btn btn-primary color-white","buttonType","submit",1,"d-grid"],[1,"d-flex","align-items-center","order-2","mt-1",2,"font-weight","500"]],template:function(i,r){1&i&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(1,"div",1)(2,"label",2),t._uU(3),t.ALo(4,"abpLocalization"),t.TgZ(5,"span"),t._uU(6," * "),t.qZA()(),t.TgZ(7,"div",3),t._UZ(8,"input",4),t.TgZ(9,"button",5),t.NdJ("click",function(){return r.showCurrentPassword=!r.showCurrentPassword}),t._UZ(10,"i",6),t.qZA()()(),t.TgZ(11,"div",7)(12,"label",8),t._uU(13),t.ALo(14,"abpLocalization"),t.TgZ(15,"span"),t._uU(16," * "),t.qZA()(),t.TgZ(17,"div",3)(18,"input",9),t.NdJ("keyup",function(){return r.validatePassword()}),t.qZA(),t.TgZ(19,"button",5),t.NdJ("click",function(){return r.showNewPassword=!r.showNewPassword}),t._UZ(20,"i",6),t.qZA()(),t._UZ(21,"abp-password-complexity-indicator",10),t.YNc(22,or,6,8,"div",11),t.qZA(),t.TgZ(23,"div",1)(24,"label",12),t._uU(25),t.ALo(26,"abpLocalization"),t.TgZ(27,"span"),t._uU(28," * "),t.qZA()(),t.TgZ(29,"div",3)(30,"input",13),t.NdJ("keyup",function(){return r.validatePassword()}),t.qZA(),t.TgZ(31,"button",5),t.NdJ("click",function(){return r.showConfirmPassword=!r.showConfirmPassword}),t._UZ(32,"i",6),t.qZA()()(),t.TgZ(33,"abp-button",14),t._uU(34),t.ALo(35,"abpLocalization"),t.qZA()()),2&i&&(t.Q6J("formGroup",r.form)("mapErrorsFn",r.mapErrorsFn),t.xp6(3),t.hij(" ",t.lcZ(4,14,"AbpIdentity::DisplayName:CurrentPassword")," "),t.xp6(5),t.Q6J("abpShowPassword",r.showCurrentPassword),t.xp6(2),t.Q6J("ngClass",t.WLB(22,Gt,!r.showCurrentPassword,r.showCurrentPassword)),t.xp6(3),t.hij(" ",t.lcZ(14,16,"AbpIdentity::DisplayName:NewPassword")," "),t.xp6(5),t.Q6J("abpShowPassword",r.showNewPassword),t.xp6(2),t.Q6J("ngClass",t.WLB(25,Gt,!r.showNewPassword,r.showNewPassword)),t.xp6(1),t.Q6J("progressBar",r.progressBar),t.xp6(1),t.Q6J("ngIf",(null==r.progressBar?null:r.progressBar.width)>0),t.xp6(3),t.hij(" ",t.lcZ(26,18,"AbpIdentity::DisplayName:NewPasswordConfirm")," "),t.xp6(5),t.Q6J("abpShowPassword",r.showConfirmPassword),t.xp6(2),t.Q6J("ngClass",t.WLB(28,Gt,!r.showConfirmPassword,r.showConfirmPassword)),t.xp6(2),t.hij(" ",t.lcZ(35,20,"AbpIdentity::Submit")," "))},dependencies:[x.mk,x.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,s.YzZ,b.hL,b.kG,b.J5,l.r0,s.FTM,Xt,s.fuE],encapsulation:2})}return o})(),co=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-qr-code"]],inputs:{qrData:"qrData",width:"width",errorCorrectionLevel:"errorCorrectionLevel"},standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notFound",""],[3,"qrdata","width","errorCorrectionLevel"],[1,"text-center","text-muted"],[1,"fa","fa-qrcode","fa-5x"]],template:function(i,r){if(1&i&&t.YNc(0,nr,2,3,"ng-container",0)(1,rr,2,0,"ng-template",null,1,t.W1O),2&i){const a=t.MAs(2);t.Q6J("ngIf",r.qrData)("ngIfElse",a)}},dependencies:[x.O5,cn,sn,s.IR2],encapsulation:2,changeDetection:0})}return o})(),lo=(()=>{class o{constructor(){this.authenticatorAppService=(0,t.f3M)(ii),this.windowService=(0,t.f3M)(s.B1l),this.toasterService=(0,t.f3M)(l.MJ),this.confirmationService=(0,t.f3M)(l.YP),this.activeStep="Authenticator",this.verifyCode="",this.isVerifiedAuthenticatorCode=(0,t.tdS)(!1),this.hasAuthenticator=this.authenticatorAppService.hasAuthenticator,this.authenticatorInfo=this.authenticatorAppService.authenticatorInfo,this.recoveryCodeList=(0,t.tdS)([]),this.hasRecoveryCodes=(0,t.Flj)(()=>this.recoveryCodeList().length>0)}copyToClipboard(e){this.windowService.copyToClipboard(e),this.toasterService.success("AbpUi::CopiedToTheClipboard")}verifyQrCode(){this.verifyCode&&this.authenticatorAppService.verifyAuthenticatorCode(this.verifyCode).subscribe(({recoveryCodes:e})=>{this.isVerifiedAuthenticatorCode.set(!0),this.recoveryCodeList.set(e)})}printRecoverCodes(){if(this.recoveryCodeList().length<1)return;const e=this.windowService.open();e.document.write("<html><body>"),e.document.write(...this.recoveryCodeList().join("<br>")),e.document.write("</body></html>"),e.document.close(),e.print()}recoveryCodeOk(){this.windowService.reloadPage()}copySharedKey(){this.copyToClipboard(this.authenticatorInfo().key)}copyRecoveryCodes(){const e=this.recoveryCodeList().join("\n");this.copyToClipboard(e)}resetAuthenticator(){this.confirmationService.warn("AbpAccount::ResetAuthenticatorWarningMessage","AbpUi::AreYouSure").pipe((0,D.h)(e=>e===l.Tv.Status.confirm),(0,L.w)(()=>this.authenticatorAppService.resetAuthenticator())).subscribe(()=>this.windowService.reloadPage())}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["abp-authenticator-app"]],standalone:!0,features:[t._Bn([ii]),t.jDz],decls:4,vars:2,consts:[[4,"ngIf"],["nextStep",""],["ngbNav","",1,"nav","nav-pills","nav-fill","mb-3",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],[1,"opacity-75"],[1,"m-0"],["ngbNavContent",""],[3,"ngbNavItem","classList","disabled"],["role","tabpanel",1,"tab-pane","fade","show","active","w-100",3,"id"],[3,"ngbNavOutlet"],[1,"authenticator-step-1"],[1,"mb-1"],[1,"mb-3"],["id","setAuthenticator"],[1,"row","g-0"],[1,"text-end","mt-3"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"col"],[1,"card","border","h-100"],[1,"card-body"],[1,"d-flex","justify-content-center","p-3","pb-0"],[3,"qrData"],[1,"col-md-1"],[1,"d-flex","align-items-center","justify-content-center","h-100"],[1,"text-muted","py-3"],["id","sharedKey",1,"bg-light","rounded","px-3","py-2","mt-4"],[1,"fs-4","lh-lg"],["type","button","id","copySharedKey",1,"btn","btn-outline-primary","btn-sm","mt-3",3,"click"],[1,"authenticator-step-2"],[1,"row"],[3,"inputId","ngModel","label","ngModelChange"],[3,"id","buttonClass","click"],[1,"authenticator-step-3"],["id","recoveryCodes",1,"list-group","w-100"],[1,"list-group-item","p-3","d-flex","justify-content-between","align-items-start"],[1,"w-100"],[1,"text-end"],["id","printRecoverCodes","type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["id","copyRecoverCodes","type","button",1,"ms-1","btn","btn-outline-primary","btn-sm",3,"click"],[1,"bg-light","rounded","px-3","py-3","mt-3","w-100","text-center"],["id","recoveryCodesList",1,"fs-4","lh-lg"],[4,"ngFor","ngForOf"],[3,"id","disabled","buttonClass","click"],["id","reset-authenticator"],[1,"my-3"],["id","resetAuthenticator",3,"click"],["type","button",1,"btn","btn-primary","px-3",3,"id","click"],[1,"bi","bi-arrow-right","ms-2"]],template:function(i,r){1&i&&t.YNc(0,gr,32,29,"ng-container",0)(1,mr,12,9,"ng-container",0)(2,br,4,6,"ng-template",null,1,t.W1O),2&i&&(t.Q6J("ngIf",!r.hasAuthenticator()),t.xp6(1),t.Q6J("ngIf",r.hasAuthenticator()))},dependencies:[f.Oz,f.uN,f.Pz,f.nv,f.Is,f.Fh,f.tO,f.Dy,s.IR2,x.sg,x.O5,x.tP,g.JJ,g.On,s.fuE,l.e2,l.r0,l.sS,co],encapsulation:2,changeDetection:0})}return o})(),di=(()=>{class o{constructor(e,i){this.manageProfileTabs=e,this.replaceableComponentsService=i,this.addComponentsToTabs=r=>{r.forEach(a=>{if(a.component)return;const c=this.replaceableComponentsService.get(a.name),u=c?c.component:xr[a.name];u&&this.manageProfileTabs.patch(a.name,{component:u})})}}resolve(){return this.manageProfileTabs.visible$.pipe((0,j.b)(this.addComponentsToTabs),(0,Y.q)(1))}static#t=this.\u0275fac=function(i){return new(i||o)(t.LFG(xt.hY),t.LFG(s.gXA))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();const xr={"AbpAccount::ProfileTab:Picture":ai,"AbpAccount::ProfileTab:Password":oi,"AbpAccount::ProfileTab:PersonalInfo":ri,"AbpAccount::ProfileTab:AuthenticatorApp":lo,"AbpAccount::ProfileTab:TwoFactor":si},Pr=q.uk.createMany([]),Lr=q.QC.createMany([{type:"string",name:"creationTime",displayName:"AbpAccount::MySecurityLogs:Time",sortable:!0,columnWidth:180,valueResolver:o=>{const n=o.getInjected(s.XJE),e=o.getInjected(x.uU);return(0,$.of)(e.transform(o.record.creationTime,(0,s.sN5)(n)))}},{type:"string",name:"action",displayName:"AbpAccount::MySecurityLogs:Action",sortable:!0,columnWidth:180,valueResolver:o=>(0,$.of)(`<div style="max-width: 160px" class="pointer abp-ellipsis-inline">${o.record.action||""}</div>`),action:o=>{const n=o.getInjected(ye);n.filter.action=o.record.action,n.list.get()}},{type:"string",name:"clientIpAddress",displayName:"AbpAccount::MySecurityLogs:IpAddress",sortable:!1,columnWidth:200,valueResolver:o=>(0,$.of)(`<div style="max-width: 180px" class="abp-ellipsis-inline">${o.record.clientIpAddress||""}</div>`)},{type:"string",name:"browserInfo",displayName:"AbpAccount::MySecurityLogs:Browser",sortable:!1,columnWidth:200,valueResolver:o=>(0,$.of)(`<div style="max-width: 180px" class="abp-ellipsis-inline">${o.record.browserInfo||""}</div>`)},{type:"string",name:"applicationName",displayName:"AbpAccount::MySecurityLogs:Application",sortable:!0,columnWidth:150,valueResolver:o=>(0,$.of)(`<div style="max-width: 135px" class="abp-ellipsis-inline">${o.record.applicationName||""}</div>`)},{type:"string",name:"identity",displayName:"AbpAccount::MySecurityLogs:Identity",sortable:!0,columnWidth:150,valueResolver:o=>(0,$.of)(`<div style="max-width: 135px" class="abp-ellipsis-inline">${o.record.identity||""}</div>`)},{type:"string",name:"clientId",displayName:"AbpAccount::MySecurityLogs:Client",sortable:!0,columnWidth:320,valueResolver:o=>(0,$.of)(`<div>${o.record.clientId||""}</div>`)}]),Mr=q.JE.createMany([]),{maxLength:pe,required:uo,email:Er}=g.Validators,Nr=q.Od.createMany([{type:"string",name:"userName",displayName:"AbpIdentity::DisplayName:UserName",id:"username",validators:()=>[uo,pe(256)],readonly:o=>"false"===(o.getInjected(s.XJE).getSettings()["Abp.Identity.User.IsUserNameUpdateEnabled"]||"").toLowerCase()},{type:"string",name:"name",displayName:"AbpIdentity::DisplayName:Name",id:"name",validators:()=>[pe(64)],template:_e,className:"d-inline-block w-50"},{type:"string",name:"surname",displayName:"AbpIdentity::DisplayName:Surname",id:"surname",validators:()=>[pe(64)],className:"d-inline-block w-50 ps-4",template:_e},{type:"string",name:"email",displayName:"AbpIdentity::DisplayName:Email",id:"email-address",validators:()=>[uo,Er,pe(256)],template:li,readonly:o=>"false"===(o.getInjected(s.XJE).getSettings()["Abp.Identity.User.IsEmailUpdateEnabled"]||"").toLowerCase()},{type:"string",name:"phoneNumber",displayName:"AbpIdentity::DisplayName:PhoneNumber",id:"phone-number",validators:()=>[pe(16)],template:ci},{type:"string",name:"timezone",displayName:"AbpSettingManagement::Menu:TimeZone",id:"timezone",template:ui,visible:o=>"Utc"===o.getInjected(s.XJE).getDeep("clock.kind")}]),po={"Account.MySecurityLogs":Pr},ho={"Account.MySecurityLogs":Mr},fo={"Account.MySecurityLogs":Lr},go={"Account.PersonalSettingsComponent":Nr},hi=new t.OlP("ACCOUNT_ENTITY_ACTION_CONTRIBUTORS"),fi=new t.OlP("ACCOUNT_TOOLBAR_ACTION_CONTRIBUTORS"),gi=new t.OlP("ACCOUNT_ENTITY_PROP_CONTRIBUTORS"),mi=new t.OlP("ACCOUNT_EDIT_FORM_PROP_CONTRIBUTORS"),Ir=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"",component:s.O39,resolve:[()=>{const o=(0,t.f3M)(t.zs3),n=o.get(q.X6),e=o.get(hi,null)||{},i=o.get(fi,null)||{},r=o.get(gi,null)||{},a=o.get(mi,null)||{},c=o.get(s.XJE),u=(0,q.ot)(c,"Identity").pipe((0,U.U)(w=>({"Account.PersonalSettingsComponent":w.User})),(0,q.V_)(c,"AbpIdentity"),(0,j.b)(w=>{(0,q.Hp)(n.editFormProps,go,w.editForm,a)})),A=(0,q.ot)(c,"Account").pipe((0,U.U)(w=>({"Account.MySecurityLogs":w.SecurityLogs})),(0,q.V_)(c,"AbpAccount"),(0,j.b)(w=>{(0,q.Fr)(n.entityActions,po,e),(0,q.Fr)(n.toolbarActions,ho,i),(0,q.Hp)(n.entityProps,fo,w.prop,r)}));return(0,z.$)(A,u)}],children:[{path:"login",component:s.c$y,canActivate:[ue],data:{replaceableComponent:{key:"Account.LoginComponent",defaultComponent:Ge}}},{path:"register",component:s.c$y,canActivate:[ue],data:{replaceableComponent:{key:"Account.RegisterComponent",defaultComponent:We}}},{path:"forgot-password",component:s.c$y,canActivate:[ue],data:{replaceableComponent:{key:"Account.ForgotPasswordComponent",defaultComponent:Je}}},{path:"reset-password",component:s.c$y,canActivate:[ue],data:{tenantBoxVisible:!1,replaceableComponent:{key:"Account.ResetPasswordComponent",defaultComponent:Xe}}},{path:"email-confirmation",component:s.c$y,data:{tenantBoxVisible:!1,replaceableComponent:{key:"Account.EmailConfirmationComponent",defaultComponent:ze}}},{path:"link-logged",component:s.c$y,data:{tenantBoxVisible:!1,replaceableComponent:{key:"Account.LinkLogged",defaultComponent:qe}}},{path:"send-security-code",component:s.c$y,canActivate:[ro],data:{tenantBoxVisible:!1,replaceableComponent:{key:"Account.SendSecurityCode",defaultComponent:$e}}},{path:"login-with-recovery-code",component:s.c$y,canActivate:[ao],data:{replaceableComponent:{key:"Account.LoginWithRecoveryCodeComponent",defaultComponent:so}}},{path:"manage",component:s.c$y,canActivate:[s.p2e],resolve:{manageProfile:di},data:{replaceableComponent:{key:"Account.ManageProfileComponent",defaultComponent:He}}},{path:"security-logs",component:s.c$y,canActivate:[s.p2e],data:{replaceableComponent:{key:"Account.MySecurityLogs",defaultComponent:ye}}},{path:"change-password",component:s.c$y,data:{replaceableComponent:{key:"Account.RefreshPasswordComponent",defaultComponent:pi}}}]}];let Ur=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#i=this.\u0275inj=t.cJS({imports:[T.Bz.forChild(Ir),T.Bz]})}return o})();function mo(o){return{redirectUrl:"/",...o}}let Or=(()=>{class o{static forChild(e){return{ngModule:o,providers:[{provide:ve,useValue:e},{provide:"ACCOUNT_OPTIONS",useFactory:mo,deps:[ve]},{provide:hi,useValue:e.entityActionContributors},{provide:fi,useValue:e.toolbarActionContributors},{provide:gi,useValue:e.entityPropContributors},{provide:mi,useValue:e.personelInfoEntityPropContributors},di,Ht,jt,{provide:ni,useValue:e.isPersonalSettingsChangedConfirmationActive??!0}]}}static forLazy(e={}){return new s.Cgl(o.forChild(e))}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#i=this.\u0275inj=t.cJS({imports:[s.IR2,l.Im,_.vv,Ur,l.e2,f.XC,b.h2,f.dT,f.M,f.HK,h.BG,si,mt.K_]})}return o})(),Rr=(()=>{class o{constructor(e){this.injector=e}canActivate(){const e=this.injector.get(q.X6),i=this.injector.get(hi,null)||{},r=this.injector.get(fi,null)||{},a=this.injector.get(gi,null)||{},c=this.injector.get(mi,null)||{},u=this.injector.get(s.XJE),A=(0,q.ot)(u,"Identity").pipe((0,U.U)(v=>({"Account.PersonalSettingsComponent":v.User})),(0,q.V_)(u,"AbpIdentity"),(0,j.b)(v=>{(0,q.Hp)(e.editFormProps,go,v.editForm,c)})),w=(0,q.ot)(u,"Account").pipe((0,U.U)(v=>({"Account.MySecurityLogs":v.SecurityLogs})),(0,q.V_)(u,"AbpAccount"),(0,j.b)(v=>{(0,q.Fr)(e.entityActions,po,i),(0,q.Fr)(e.toolbarActions,ho,r),(0,q.Hp)(e.entityProps,fo,v.prop,a)}));return(0,z.$)(w,A).pipe((0,U.U)(()=>!0))}static#t=this.\u0275fac=function(i){return new(i||o)(t.LFG(t.zs3))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})()}}]);